"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5307],{55307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(37876),i=n(79052),o=n(77232),a=n(14232),s=n(54239),l=n(16361);let f=o.Ay.textarea.attrs(()=>({enterKeyHint:"done",rows:1,...l.m8})).withConfig({componentId:"sc-e9909413-0"})(["background-color:",";border:",";border-radius:0;color:",";font-family:inherit;font-size:11.5px;left:",";margin-bottom:2px;max-width:",";min-height:19px;min-width:30px;overflow:hidden;padding:",";position:",";resize:none;text-align:",";top:",";user-select:text;white-space:break-spaces;word-wrap:",";z-index:1;"],({$darkMode:e})=>e?"rgb(33, 33, 33)":"#fff",({$darkMode:e})=>`1px solid ${e?"#fff":"rgb(100, 100, 100)"}`,({$darkMode:e})=>e?"#fff":"#000",({$singleLineMode:e})=>e?"16px":void 0,({$singleLineMode:e,theme:t})=>e?void 0:`${t.sizes.fileEntry.renameWidth}px`,({theme:e})=>`1px ${e.sizes.fileEntry.renamePadding}px`,({$singleLineMode:e})=>e?"absolute":"relative",({$singleLineMode:e})=>e?"left":"center",({$singleLineMode:e})=>e?"3px":"2px",({$singleLineMode:e})=>e?"normal":void 0);var u=n(60109);let d=({isDesktop:e,name:t,path:n,renameFile:d,setRenaming:p,view:c})=>{let x=(0,a.useRef)(null),h=()=>d(n,x.current?.value),{formats:g,sizes:m}=(0,o.DP)(),y=(0,a.useMemo)(()=>"details"===c,[c]),b=(0,a.useCallback)(e=>{if(e instanceof HTMLTextAreaElement){let{width:t}=(0,s.AN)(e.value,m.fileEntry.fontSize,g.systemFont);y||e.setAttribute("style","height: 1px");let n=`width: ${t+22}px`,r=`height: ${e.scrollHeight+2}px`;e.setAttribute("style",y?n:`${r}; ${n}`)}},[g.systemFont,y,m.fileEntry.fontSize]);return(0,a.useLayoutEffect)(()=>{requestAnimationFrame(()=>b(x.current))},[b]),(0,a.useLayoutEffect)(()=>{b(x.current),x.current?.focus(l.VD),x.current?.setSelectionRange(0,t.length-(0,i.extname)(t).length)},[t,b]),(0,r.jsx)(f,{ref:x,$darkMode:!e,$singleLineMode:y,defaultValue:t,onBlurCapture:h,onClick:u.CH,onDragStart:u.CH,onKeyDown:({key:e})=>{"Enter"===e?h():"Escape"===e&&p("")},onKeyUp:e=>{b(e.target),(0,u.CH)(e)}})}}}]);