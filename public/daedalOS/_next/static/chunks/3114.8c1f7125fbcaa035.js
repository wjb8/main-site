"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3114],{53114:(e,s,t)=>{var r,E;t.d(s,{FFmpeg:()=>l}),function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"}(r||(r={}));let a=(()=>{let e=0;return()=>e++})();Error("unknown message type");let i=Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),o=Error("called FFmpeg.terminate()");Error("failed to import ffmpeg-core.js");class l{#e=null;#s={};#t={};#r=[];#E=[];loaded=!1;#a=()=>{this.#e&&(this.#e.onmessage=({data:{id:e,type:s,data:t}})=>{switch(s){case r.LOAD:this.loaded=!0,this.#s[e](t);break;case r.MOUNT:case r.UNMOUNT:case r.EXEC:case r.FFPROBE:case r.WRITE_FILE:case r.READ_FILE:case r.DELETE_FILE:case r.RENAME:case r.CREATE_DIR:case r.LIST_DIR:case r.DELETE_DIR:this.#s[e](t);break;case r.LOG:this.#r.forEach(e=>e(t));break;case r.PROGRESS:this.#E.forEach(e=>e(t));break;case r.ERROR:this.#t[e](t)}delete this.#s[e],delete this.#t[e]})};#i=({type:e,data:s},t=[],r)=>this.#e?new Promise((E,i)=>{let o=a();this.#e&&this.#e.postMessage({id:o,type:e,data:s},t),this.#s[o]=E,this.#t[o]=i,r?.addEventListener("abort",()=>{i(new DOMException(`Message # ${o} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(i);on(e,s){"log"===e?this.#r.push(s):"progress"===e&&this.#E.push(s)}off(e,s){"log"===e?this.#r=this.#r.filter(e=>e!==s):"progress"===e&&(this.#E=this.#E.filter(e=>e!==s))}load=({classWorkerURL:e,...s}={},{signal:E}={})=>(this.#e||(this.#e=e?new Worker(new URL(e,"file:///home/james/coding-projects/freelance/daedalOS/node_modules/@ffmpeg/ffmpeg/dist/esm/classes.js"),{type:"module"}):new Worker(t.tu(new URL(t.p+t.u(6620),t.b)),{type:void 0}),this.#a()),this.#i({type:r.LOAD,data:s},void 0,E));exec=(e,s=-1,{signal:t}={})=>this.#i({type:r.EXEC,data:{args:e,timeout:s}},void 0,t);ffprobe=(e,s=-1,{signal:t}={})=>this.#i({type:r.FFPROBE,data:{args:e,timeout:s}},void 0,t);terminate=()=>{for(let e of Object.keys(this.#t))this.#t[e](o),delete this.#t[e],delete this.#s[e];this.#e&&(this.#e.terminate(),this.#e=null,this.loaded=!1)};writeFile=(e,s,{signal:t}={})=>{let E=[];return s instanceof Uint8Array&&E.push(s.buffer),this.#i({type:r.WRITE_FILE,data:{path:e,data:s}},E,t)};mount=(e,s,t)=>this.#i({type:r.MOUNT,data:{fsType:e,options:s,mountPoint:t}},[]);unmount=e=>this.#i({type:r.UNMOUNT,data:{mountPoint:e}},[]);readFile=(e,s="binary",{signal:t}={})=>this.#i({type:r.READ_FILE,data:{path:e,encoding:s}},void 0,t);deleteFile=(e,{signal:s}={})=>this.#i({type:r.DELETE_FILE,data:{path:e}},void 0,s);rename=(e,s,{signal:t}={})=>this.#i({type:r.RENAME,data:{oldPath:e,newPath:s}},void 0,t);createDir=(e,{signal:s}={})=>this.#i({type:r.CREATE_DIR,data:{path:e}},void 0,s);listDir=(e,{signal:s}={})=>this.#i({type:r.LIST_DIR,data:{path:e}},void 0,s);deleteDir=(e,{signal:s}={})=>this.#i({type:r.DELETE_DIR,data:{path:e}},void 0,s)}!function(e){e.MEMFS="MEMFS",e.NODEFS="NODEFS",e.NODERAWFS="NODERAWFS",e.IDBFS="IDBFS",e.WORKERFS="WORKERFS",e.PROXYFS="PROXYFS"}(E||(E={}))}}]);