"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3759],{2435:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(14232),a=n(81855),s=n(91372),i=n(16361);let l=e=>{let{title:t}=(0,a.N)(),[n]=(0,r.useMemo)(()=>e.split(i.QB),[e]),{title:l}=s.A[n]||{};return{appendFileToTitle:(0,r.useCallback)((n,r)=>{let a=n?` - ${n}${r?` ${i.g6}`:""}`:"";t(e,`${l}${a}`)},[e,l,t]),prependFileToTitle:(0,r.useCallback)((n,r,a)=>{let s=n?`${r?`${i.g6} `:""}${n}${a?" ":" - "}`:"";t(e,`${s}${l}`)},[e,l,t])}}},60516:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(14232);let a=(e,t)=>{let[n,a]=(0,r.useState)();(0,r.useEffect)(()=>{t&&a(new ResizeObserver(t))},[t]),(0,r.useEffect)(()=>(e instanceof HTMLElement&&n?.observe(e),()=>{e instanceof HTMLElement&&n?.unobserve(e)}),[e,n])}},63759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var r=n(37876),a=n(79052),s=n(14232);let i=(0,s.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M30 2v10h-2V5.422L5.422 28H12v2H2V20h2v6.578L26.578 4H20V2h10z"})})),l=(0,s.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4 18h10v10h-2v-6.578L1.453 31.953.047 30.547 10.578 20H4v-2zm17.422-6H28v2H18V4h2v6.578L30.547.047l1.406 1.406z"})})),o=(0,s.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M31.703 30.297Q32 30.594 32 31t-.297.703T31 32t-.703-.297l-12.266-12.25q-1.5 1.234-3.289 1.891T11 22q-1.516 0-2.922-.391T5.453 20.5t-2.227-1.727-1.727-2.227T.39 13.921t-.391-2.922.391-2.922 1.109-2.625 1.727-2.227 2.227-1.727T8.078.389 11-.002t2.922.391 2.625 1.109 2.227 1.727 1.727 2.227 1.109 2.625.391 2.922q0 1.953-.656 3.742t-1.891 3.289zM11 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T20 11t-.711-3.5-1.93-2.859-2.859-1.93T11 2t-3.5.711-2.859 1.93T2.711 7.5 2 11t.711 3.5 1.93 2.859 2.859 1.93T11 20zm1-10h4v2h-4v4h-2v-4H6v-2h4V6h2v4z"})})),c=(0,s.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 30.906q0 .438-.266.766T31 32q-.406 0-.703-.297l-12.266-12.25q-1.5 1.234-3.289 1.891T11 22q-1.516 0-2.922-.391T5.453 20.5t-2.227-1.727-1.727-2.227T.39 13.921t-.391-2.922.391-2.922 1.109-2.625 1.727-2.227 2.227-1.727T8.078.389 11-.002t2.922.391 2.625 1.109 2.227 1.727 1.727 2.227 1.109 2.625.391 2.922q0 1.953-.656 3.742t-1.891 3.289q.234.234.898.891t1.594 1.563 2.031 1.992 2.219 2.203 2.164 2.18 1.859 1.922 1.297 1.43.484.695zM11 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T20 11t-.711-3.5-1.93-2.859-2.859-1.93T11 2t-3.5.711-2.859 1.93T2.711 7.5 2 11t.711 3.5 1.93 2.859 2.859 1.93T11 20zM6 10h10v2H6v-2z"})}));var u=n(77232),h=n(79572);let d="48px",f="32px",p=u.Ay.div.withConfig({componentId:"sc-26662b3f-0"})(["background-color:#222;display:flex;height:100%;padding-bottom:",";padding-top:",";position:relative;svg{fill:#fff;}figure{display:flex;height:100%;margin:0 "," ",";overflow:hidden;place-content:center;place-items:center;width:100%;div{color:rgb(167 167 167);font-size:13px;padding:0 38px;text-align:center;}img{display:",";max-height:100%;max-width:100%;}}nav{display:flex;height:",";place-content:center;place-items:center;position:absolute;&.top{top:0;width:100%;svg{height:16px;}}&.bottom{bottom:0;right:0;svg{height:20px;margin-top:2px;}}button{height:",";width:",";&:disabled{pointer-events:none;svg{fill:rgb(125 125 125);}}&:hover{background-color:rgb(75 75 75 / 50%);}&:active{background-color:rgb(100 100 100 / 50%);}}}&.drop{",";}"],f,d,f,f,({$showImage:e})=>e?"block":"none",d,d,d,(0,h.A)("Drop photo file here","#fff"));var m=n(54845),v=n(60516),g=n(81855),w=n(2435);let b={cursor:"default",maxScale:7,minScale:1,panOnlyWhenZoomed:!0,step:.1},x=(e,t,n)=>{let[r,i]=(0,s.useState)(),{getScale:l,reset:o,zoomIn:c,zoomOut:u,zoomToPoint:h,zoomWithWheel:d}=r||{},{processes:{[e]:f}}=(0,g.N)(),{closing:p,componentWindow:x,url:T=""}=f||{},{prependFileToTitle:j}=(0,w.A)(e),A=(0,s.useCallback)(e=>{let{detail:{scale:t=0,x:n=0,y:s=0}={}}=e||{};if(T&&t){let{minScale:e,step:i}=b,l=t<e+i;l&&(n||s)&&window.setTimeout(()=>r?.reset(),50),p||j(l?(0,a.basename)(T):`${(0,a.basename)(T)} (${Math.floor(100*t)}%)`)}},[p,r,j,T]),k=(0,s.useCallback)(e=>d?.(e,{step:.3}),[d]);return(0,v.A)(x,o),(0,s.useEffect)(()=>(t&&n&&(t.addEventListener("panzoomchange",A),n.addEventListener("wheel",k)),()=>{t?.removeEventListener("panzoomchange",A),n?.removeEventListener("wheel",k)}),[n,t,A,k]),(0,s.useEffect)(()=>(t&&!r&&i((0,m.A)(t,b)),()=>r?.destroy()),[t,r]),{reset:o,scale:l?.(),zoomIn:c,zoomOut:u,zoomToPoint:h}};var T=n(78011),j=n(65231),A=n(27639),k=n(71553),y=n(3861),E=n(16361),C=n(60109);let{maxScale:L,minScale:z}=b,$=({id:e})=>{let{processes:{[e]:t}={},url:u}=(0,g.N)(),{componentWindow:h,closing:d=!1,url:f=""}=t||{},[m,v]=(0,s.useState)({}),[b,$]=(0,s.useState)(!1),{prependFileToTitle:H}=(0,w.A)(e),{readFile:M,readdir:B}=(0,j.f)(),q=(0,s.useRef)(null),N=(0,s.useRef)(null),R=(0,s.useRef)(null),{reset:O,scale:S,zoomIn:D,zoomOut:P,zoomToPoint:_}=x(e,N.current,R.current),{fullscreenElement:U,toggleFullscreen:V}=(0,A.T)(),F=(0,s.useCallback)(async()=>{let e=await M(f),t=(0,C.uQ)(f);if(!E.T8.has(t)){let{decodeImageToBuffer:r}=await n.e(9868,"high").then(n.bind(n,97487)),a=await r(t,e);a&&(e=a)}v(t=>{let[n]=Object.keys(t);if(n){if(n===f)return t;O?.()}return{[f]:(0,C.Zd)(e,(0,C.hH)(f))}}),H((0,a.basename)(f))},[H,M,O,f]),Q=(0,s.useCallback)(async({key:t})=>{switch(t){case"ArrowRight":case"ArrowLeft":{let n=await B((0,a.dirname)(f)),r=n.indexOf((0,a.basename)(f)),s=(t,r)=>{if(-1===t)return;let i=t+(r?1:-1);if(-1===i||i===n.length)return;let l=n[i];E.O4.has((0,C.uQ)(l))?u(e,(0,a.join)((0,a.dirname)(f),l)):s(i,r)};s(r,"ArrowRight"===t)}}},[e,B,u,f]);return(0,s.useEffect)(()=>{!f||m[f]||d||F()},[d,F,m,f]),(0,s.useEffect)(()=>(h?.addEventListener("keydown",Q),()=>h?.removeEventListener("keydown",Q)),[h,Q]),(0,r.jsxs)(p,{ref:q,$showImage:!!(m[f]&&!b),className:f?"":"drop",onContextMenu:C.CH,...(0,T.A)({id:e}),children:[(0,r.jsxs)("nav",{className:"top",children:[(0,r.jsx)(y.A,{disabled:!f||S===L||b,onClick:D,...(0,C.Pf)("Zoom in"),children:(0,r.jsx)(o,{})}),(0,r.jsx)(y.A,{disabled:!f||S===z||b,onClick:P,...(0,C.Pf)("Zoom out"),children:(0,r.jsx)(c,{})})]}),(0,r.jsxs)("figure",{ref:R,...(0,k.A)(e=>{S===z?_?.(2*z,e,{animate:!0}):O?.()}),children:[(0,r.jsx)("img",{ref:N,alt:(0,a.basename)(f,(0,a.extname)(f)),decoding:"async",loading:"eager",onError:()=>$(!0),onLoad:()=>$(!1),src:m[f],...E.rJ}),b&&(0,r.jsxs)("div",{children:[(0,a.basename)(f),(0,r.jsx)("br",{}),"Sorry, Photos can't open this file because the format is currently unsupported, or the file is corrupted"]})]}),(0,r.jsx)("nav",{className:"bottom",children:(0,r.jsx)(y.A,{disabled:!f,onClick:()=>V(q.current,"show"),...(0,C.Pf)("Full-screen"),children:U===q.current?(0,r.jsx)(l,{}):(0,r.jsx)(i,{})})})]})}},71553:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(14232),a=n(16361);let s=(e,t=!1)=>{let n=(0,r.useRef)(0),s=(0,r.useRef)(0);return{onClick:(0,r.useCallback)(r=>{let i=()=>{r.stopPropagation(),e(r)},l=()=>{n.current&&(clearTimeout(n.current),n.current=0)},o=()=>{s.current>=12&&l(),0===n.current?(r.target.removeEventListener("pointermove",o),s.current=0):s.current+=1};t?i():0===n.current?(n.current=window.setTimeout(l,a.UW.DOUBLE_CLICK),r.target.addEventListener("pointermove",o,{passive:!0})):(l(),i())},[e,t])}}},78011:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(79052),a=n(14232),s=n(49697),i=n(84966),l=n(54188),o=n(65231),c=n(81855),u=n(55295),h=n(16361),d=n(60109),f=n(29804);let p=({callback:e,directory:t=h.Bn,id:n,onDragLeave:p,onDragOver:m,updatePositions:v})=>{let{url:g}=(0,c.N)(),w=(0,f.w)(),{iconPositions:b,sortOrders:x,setIconPositions:T}=(0,u.w)(),{exists:j,mkdirRecursive:A,updateFolder:k,writeFile:y}=(0,o.f)(),E=(0,a.useCallback)(async(e,t,a)=>{if(n)if(t){let s=(0,r.join)(h.Bn,e);if(await A(h.Bn),await y(s,t,!0))return a===l.z.UPDATE_URL&&g(n,s),k(h.Bn,e),(0,r.basename)(s)}else a===l.z.UPDATE_URL&&g(n,e);return""},[n,A,k,g,y]),{openTransferDialog:C}=(0,s.A)();return{onDragLeave:p,onDragOver:(0,a.useCallback)(e=>{m?.(e),(0,d.CH)(e)},[m]),onDrop:(0,a.useCallback)(a=>{if(h.jj.has((0,d.uQ)(t)))return;if(a.target instanceof HTMLElement){if(a.target.closest(".focus-within")?.contains(a.target))return;if(v){let{files:e,text:n}=(0,i.bn)(a);if(0===e.length&&""===n)return;(async()=>{let s={x:a.clientX,y:a.clientY},i=[];if(n){try{i=JSON.parse(n)}catch{}if(!Array.isArray(i))return;let[e]=i;if(!e||e.startsWith(t)&&(0,r.basename)(e)===(0,r.relative)(t,e))return;i=i.map(e=>(0,r.basename)(e))}else i=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);i=await (0,d.$I)(i,t,b,j),(0,d.$Y)(t,a.target,b,x,s,i,T,j)})()}}let s="string"==typeof n;s&&!v&&t===h.Bn&&w.current[n]?.componentWindow?.focus(h.VD),(0,i.nX)(a,e||E,t,C,s)},[e,t,j,b,n,C,w,T,x,v,E])}}},79572:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(77232);let a=(e,t)=>(0,r.AH)(["&::before{color:",';content:"','";display:flex;font-size:16px;font-weight:600;height:100%;left:0;place-content:center;place-items:center;position:absolute;top:0;width:100%;}'],t,e)}}]);