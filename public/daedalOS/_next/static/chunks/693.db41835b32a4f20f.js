"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{26451:(e,t,i)=>{i.d(t,{p:()=>a});var r=i(79052),n=i(14232),o=i(65231),s=i(16361);let a=()=>{let{createPath:e,updateFolder:t}=(0,o.f)();return{createSnapshot:(0,n.useCallback)(async(i,n,o,a=!0,l=s.Sb)=>{let c="";try{if((c=await e(i,l,n,void 0,a))&&o)try{let t="function"==typeof o?await o():o;t&&await e(`${(0,r.join)(l,c)}${s.V9}`,s.jv,t,void 0,a)}catch{}t((0,r.dirname)(l)),t(l,c)}catch{}return c},[e,t])}}},55137:(e,t,i)=>{i.d(t,{A:()=>a});var r=i(14232),n=i(81855),o=i(55295),s=i(16361);let a=(e,t,i)=>{let{foregroundId:a,prependToStack:l,setForegroundId:c,stackOrder:d=[]}=(0,o.w)(),{processes:{[e]:p}}=(0,n.N)(),{closing:h=!1,componentWindow:x=i,minimized:g=!1,taskbarEntry:u,url:m}=p||{},b=(0,r.useMemo)(()=>d.length+(g?1:-d.indexOf(e))+1,[e,g,d]),f=(0,r.useCallback)(i=>{let{relatedTarget:r}=i,n=r===u,o=r&&u?.previousSibling?.contains(r),a=r&&x?.contains(r);c(r=>r!==e||n||a?r:(o?x?.focus(s.VD):t?.onBlurCapture?.(i),o?r:""))},[t,x,e,c,u]),v=(0,r.useCallback)(i=>{let{relatedTarget:r}=i||{};x?.contains(document.activeElement)?(l(e),c(e)):r&&document.activeElement!==u||(x?.focus(s.VD),t?.onFocusCapture?.(i))},[t,x,e,l,c,u]);return(0,r.useLayoutEffect)(()=>{e===a&&v()},[a,e,v]),(0,r.useLayoutEffect)(()=>{!x||h||g||c(e)},[h,x,e,g,c,m]),(0,r.useMemo)(()=>({onBlurCapture:f,onClickCapture:v,onFocusCapture:v,zIndex:b,...s.W8}),[v,f,b])}},72599:(e,t,i)=>{i.d(t,{AJ:()=>m,Aq:()=>o,LP:()=>h,Sz:()=>l,Td:()=>d,Wm:()=>p,id:()=>u,nX:()=>c,oy:()=>s,qU:()=>x,qx:()=>a,wF:()=>g});var r=i(37876),n=i(14232);let o=(0,n.memo)(()=>(0,r.jsxs)("svg",{viewBox:"0 0 330 220",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M177.49 123.22c7.325 13.037 15.82 22.852 25.489 29.444 9.814 6.445 20.874 9.668 33.179 9.668 14.794 0 26.88-4.908 36.255-14.722 9.374-9.961 14.062-22.632 14.062-38.013 0-14.795-4.322-27.1-12.964-36.914-8.643-9.814-19.483-14.722-32.52-14.722-11.865 0-22.632 4.908-32.3 14.722-9.521 9.668-19.921 26.514-31.2 50.537m-26.807-23.51c-7.178-12.891-15.674-22.56-25.489-29.005-9.668-6.445-20.727-9.667-33.178-9.668-14.795 0-26.88 4.908-36.255 14.722-9.375 9.668-14.063 22.193-14.063 37.573 0 14.796 4.321 27.1 12.964 36.915 8.643 9.814 19.482 14.721 32.52 14.721 11.865 0 22.558-4.834 32.08-14.502 9.668-9.668 20.141-26.587 31.42-50.757m15.601 40.21c-10.4 19.922-21.313 34.498-32.739 43.726-11.28 9.229-23.877 13.843-37.793 13.843-19.775 0-36.548-8.203-50.317-24.61C31.81 156.472 25 136.184 25 112.014c0-25.635 6.079-46.362 18.237-62.183 12.305-15.82 28.272-23.73 47.9-23.73 13.917 0 26.368 4.541 37.354 13.623 10.987 8.936 21.973 23.73 32.96 44.385 9.96-20.215 20.727-35.083 32.3-44.605 11.571-9.668 24.462-14.502 38.671-14.502 19.482 0 36.108 8.277 49.878 24.83 13.916 16.552 20.874 36.987 20.874 61.303 0 25.489-6.152 46.143-18.457 61.963-12.158 15.674-28.052 23.511-47.68 23.511-13.917 0-26.295-4.248-37.134-12.744-10.694-8.643-21.9-23.291-33.619-43.946",fill:"url(#a)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{gradientUnits:"objectBoundingBox",id:"a",x1:"0",x2:"1",y1:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0",stopColor:"#C02B3C",children:(0,r.jsx)("animate",{attributeName:"stop-color",dur:"20s",repeatCount:"indefinite",values:"#C02B3C;#A86EDD;#0736C4;#52B471;#FFC800;#FF5F3D;#C02B3C;"})}),(0,r.jsx)("stop",{offset:".5",stopColor:"#A86EDD",children:(0,r.jsx)("animate",{attributeName:"stop-color",dur:"20s",repeatCount:"indefinite",values:"#A86EDD;#0736C4;#52B471;#FFC800;#FF5F3D;#C02B3C;#A86EDD;"})}),(0,r.jsx)("stop",{offset:"1",stopColor:"#0736C4",children:(0,r.jsx)("animate",{attributeName:"stop-color",dur:"20s",repeatCount:"indefinite",values:"#0736C4;#52B471;#FFC800;#FF5F3D;#C02B3C;#A86EDD;#0736C4;"})})]})})]})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"chat",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M12 2c5.523 0 10 4.477 10 10 0 .263-.01.523-.03.78a6.518 6.518 0 0 0-1.474-1.05 8.5 8.5 0 1 0-15.923 4.407l.15.27-1.112 3.984 3.987-1.112.27.15a8.449 8.449 0 0 0 3.862 1.067c.281.54.636 1.036 1.05 1.474a9.96 9.96 0 0 1-5.368-1.082l-3.825 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm11 15.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0Zm-5 .5.001 2.503a.5.5 0 1 1-1 0V18h-2.505a.5.5 0 0 1 0-1H17v-2.5a.5.5 0 1 1 1 0V17h2.497a.5.5 0 0 1 0 1H18Z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"send",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M5.694 12 2.299 3.27c-.236-.607.356-1.188.942-.981l.093.039 18 9a.75.75 0 0 1 .097 1.284l-.097.058-18 9c-.583.291-1.217-.245-1.065-.848l.03-.095L5.694 12 2.299 3.27 5.694 12ZM4.402 4.54l2.61 6.71h6.627a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007H7.01l-2.609 6.71L19.322 12 4.401 4.54Z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"send",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m12.815 12.197-7.532 1.255a.5.5 0 0 0-.386.318L2.3 20.728c-.248.64.421 1.25 1.035.942l18-9a.75.75 0 0 0 0-1.341l-18-9c-.614-.307-1.283.303-1.035.942l2.598 6.958a.5.5 0 0 0 .386.318l7.532 1.255a.2.2 0 0 1 0 .395Z"})})),c=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"person",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17.755 14a2.249 2.249 0 0 1 2.248 2.25v.918a2.75 2.75 0 0 1-.512 1.598c-1.546 2.164-4.07 3.235-7.49 3.235-3.422 0-5.945-1.072-7.487-3.236a2.75 2.75 0 0 1-.51-1.596v-.92A2.249 2.249 0 0 1 6.253 14h11.502ZM12 2.005a5 5 0 1 1 0 10 5 5 0 0 1 0-10Z"})})),d=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"control-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M5.503 4.627 5.5 6.75v10.504a3.25 3.25 0 0 0 3.25 3.25h8.616a2.251 2.251 0 0 1-2.122 1.5H8.75A4.75 4.75 0 0 1 4 17.254V6.75c0-.98.627-1.815 1.503-2.123ZM17.75 2A2.25 2.25 0 0 1 20 4.25v13a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-13A2.25 2.25 0 0 1 8.75 2h9Zm0 1.5h-9a.75.75 0 0 0-.75.75v13c0 .414.336.75.75.75h9a.75.75 0 0 0 .75-.75v-13a.75.75 0 0 0-.75-.75Z"})})),p=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"control-icon background-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13.5 7.5h9V24H0V7.5h9V9H1.5v13.5H21V9h-7.5Zm-3-4.629L7.277 6.094 6.223 5.027 11.25 0l5.027 5.027-1.054 1.067L12 2.87V13.5h-1.5ZM9 12H4.5v7.5H18V12h-4.5v-1.5h6V21H3V10.5h6Zm0 0"})})),h=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"control-icon save-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M21 1.5c.21 0 .406.04.586.117.18.078.336.188.477.32.132.141.242.297.32.477.078.18.117.375.117.586v19.5H4.184L1.5 19.805V3c0-.21.04-.406.117-.586.078-.18.188-.336.32-.477.141-.132.297-.242.477-.32.18-.078.375-.117.586-.117Zm-15 9h12V3H6Zm9 6H7.5V21H9v-3h1.5v3H15ZM21 3h-1.5v9h-15V3H3v16.184L4.805 21H6v-6h10.5v6H21Zm0 0"})})),x=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"control-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.952 3.048a3.578 3.578 0 0 0-5.06 0L3.94 15a3.106 3.106 0 0 0-.825 1.476L2.02 21.078a.75.75 0 0 0 .904.903l4.601-1.096a3.106 3.106 0 0 0 1.477-.825L20.952 8.11a3.578 3.578 0 0 0 0-5.06Zm-4 1.06a2.078 2.078 0 1 1 2.94 2.94L19 7.939 16.06 5l.892-.891ZM15 6.062 17.94 9 7.94 19c-.21.21-.474.357-.763.426l-3.416.814.813-3.416c.069-.29.217-.554.427-.764L15 6.06Z"})})),g=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"stop-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.75 3A1.75 1.75 0 0 0 3 4.75v14.5c0 .966.784 1.75 1.75 1.75h14.5A1.75 1.75 0 0 0 21 19.25V4.75A1.75 1.75 0 0 0 19.25 3H4.75Z"})})),u=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"warning-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13 17a.999.999 0 1 0-1.998 0 .999.999 0 0 0 1.997 0Zm-.26-7.853a.75.75 0 0 0-1.493.103l.004 4.501.007.102a.75.75 0 0 0 1.493-.103l-.004-4.502-.007-.101Zm1.23-5.488c-.857-1.548-3.082-1.548-3.938 0L2.286 17.66c-.83 1.5.255 3.34 1.97 3.34h15.49c1.714 0 2.799-1.84 1.969-3.34L13.969 3.66Zm-2.626.726a.75.75 0 0 1 1.313 0l7.745 14.002a.75.75 0 0 1-.656 1.113H4.256a.75.75 0 0 1-.657-1.113l7.745-14.002Z"})})),m=(0,n.memo)(()=>(0,r.jsx)("svg",{className:"control-icon",viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13 2.25c0-1.079-1.274-1.65-2.08-.934L6.427 5.309a.75.75 0 0 1-.498.19H2.25A2.25 2.25 0 0 0 0 7.749v4.497a2.25 2.25 0 0 0 2.25 2.25h3.68a.75.75 0 0 1 .498.19l4.491 3.994c.806.716 2.081.144 2.081-.934V2.25ZM7.425 6.43 11.5 2.807v14.382l-4.075-3.624a2.25 2.25 0 0 0-1.495-.569H2.25a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.25 7h3.68a2.25 2.25 0 0 0 1.495-.569Zm9.567-2.533a.75.75 0 0 1 1.049.157A9.959 9.959 0 0 1 20 10a9.96 9.96 0 0 1-1.96 5.946.75.75 0 0 1-1.205-.892A8.459 8.459 0 0 0 18.5 10a8.459 8.459 0 0 0-1.665-5.054.75.75 0 0 1 .157-1.049ZM15.143 6.37a.75.75 0 0 1 1.017.303c.536.99.84 2.125.84 3.328a6.973 6.973 0 0 1-.84 3.328.75.75 0 0 1-1.32-.714c.42-.777.66-1.666.66-2.614s-.24-1.837-.66-2.614a.75.75 0 0 1 .303-1.017Z"})}))},75014:(e,t,i)=>{i.d(t,{Su:()=>a,US:()=>l,_X:()=>s,gR:()=>o});var r=i(37876),n=i(14232);let o=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0h10v1H0z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},90693:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var r=i(37876),n=i(77232),o=i(14232);let s=e=>{if("Start to fetch params"===e)return"Fetching parameters";if(e.startsWith("Finish loading on WebGPU"))return"";let[,t,i]=/\[(\d+)\/(\d+)\]/.exec(e)||[],r="";if(Number.isNaN(Number(i))||(r=`${t||0}/${i}`),e.startsWith("Loading model from cache"))return`Loading${r?` (${r})`:""}`;let[,n]=/(\d+)% completed/.exec(e)||[],[,o]=/(\d+) secs elapsed/.exec(e)||[];if(Number.isNaN(Number(n))||(r+=`${r?", ":""}${n}%`),Number.isNaN(Number(o))||(r+=`${r?", ":""}${o}s`),e.startsWith("Loading GPU shader modules"))return`Loading into GPU${r?` (${r})`:""}`;let[,s]=/(\d+)MB (fetched|loaded)/.exec(e)||[];return(Number.isNaN(Number(s))||(r+=`${r?", ":""}${s}MB`),e.startsWith("Fetching param cache"))?`Fetching${r?` (${r})`:""}`:e},a=e=>{let[t]=window.speechSynthesis.getVoices(),i=new SpeechSynthesisUtterance(e);i.voice=t,i.pitch=.9,i.rate=1.5,i.volume=.5,window.speechSynthesis.speak(i)},l=e=>{let t=e;return e.replace("</think></p>","</p></think>")},c=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");var d=i(72599),p=i(16361);let h=(e,t=.75)=>({animate:"active",exit:{transition:{duration:p.f9.TASKBAR_ITEM/10,ease:"circIn"},width:`${e*t}px`},initial:"initial",transition:{duration:p.f9.TASKBAR_ITEM,ease:"circOut"},variants:{active:{width:`${e}px`},initial:{width:`${e*t}px`}}}),x=()=>new Worker(i.tu(new URL(i.p+i.u(61),i.b)),{name:"AI"});var g=i(817);let u=(0,n.Ay)(g.m.section).withConfig({componentId:"sc-4091ecbf-0"})(["background-color:rgb(32 32 32);border-left:1px solid rgb(104 104 104);bottom:","px;color:rgb(200 200 200);font-size:14px;height:calc(100% - ","px);position:absolute;right:0;z-index:",";section{&::-webkit-scrollbar{width:16px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar-thumb{background-clip:content-box;background-color:rgb(77 77 77);border:6px solid transparent;border-radius:16px;}&::-webkit-scrollbar-thumb:hover{background-color:rgb(121 121 121);}display:flex;flex-direction:column;height:calc(100% - 49px - 122px);min-width:","px;overflow:hidden auto;place-content:space-between;.convo-header{color:#fff;display:flex;flex-direction:column;gap:20px;place-content:center;place-items:center;width:",";.title{display:flex;font-size:28px;font-weight:700;> svg{height:34px;margin-right:8px;margin-top:3px;width:34px;}}.convo-style{display:flex;flex-direction:column;gap:17px;place-content:center;place-items:center;.buttons{border:1px solid rgb(102 102 102);border-radius:4px;display:flex;margin-bottom:48px;button{background-color:transparent;border-radius:4px;color:#fff;cursor:pointer;display:flex;flex-direction:column;max-width:100px;min-width:100px;padding:7px 28px;place-items:center;&.selected{background:",";}}h2,h4{font-weight:400;pointer-events:none;}h2{font-size:12.5px;}h4{font-size:9.5px;padding-bottom:3px;}}}}.conversation{color:#fff;display:flex;flex-direction:column;font-size:13.5px;gap:13px;letter-spacing:0.2px;margin-bottom:",";padding:16px;padding-bottom:5px;.user{.avatar{.person{background:",";border-radius:50%;fill:rgb(255 255 255 / 45%);padding:5px;}}}.ai{think{border-left:2px solid rgb(78 78 86);color:rgb(166 166 166);display:flex;flex-direction:column;font-size:13px;gap:10px;margin-left:5px;margin-top:12px;padding-left:10px;white-space:normal;}.message.hide-think{think{display:none;}}}.avatar{display:flex;font-size:15px;padding-bottom:12px;place-items:center;svg{height:24px;margin-right:12px;width:24px;}}.thinking{background-color:rgb(73 73 73);border-radius:6px;color:#fff;cursor:pointer;font-family:",";font-size:12px;letter-spacing:0.5px;margin-left:30px;padding:7px 11px;&.thinking-responding{cursor:default;}}.message{cursor:text;padding-left:36px;user-select:text;white-space:pre-line;*{cursor:text;user-select:text;}pre{background-color:rgb(26 26 26);border:1px solid rgb(48 48 48);border-radius:5px;padding:12px;}code{white-space:pre-wrap;&.language-js,&.language-python{&::before{background-color:rgb(29 29 29);border-top-left-radius:5px;border-top-right-radius:5px;display:flex;font-family:",';font-size:15px;font-weight:600;height:40px;left:-12px;padding:0 12px;place-items:center;position:relative;top:-12px;width:calc(100% + 24px);}}&.language-js::before{content:"JavaScript";}&.language-python::before{content:"Python";}}&:hover{+ .controls button{visibility:visible;}}p:last-child{display:inline;}pre:last-child{display:inline-block;}}.image-container{background-color:rgb(240 240 240);border:1px solid rgb(102 102 102);border-radius:10px;margin-bottom:18px;margin-top:10px;padding:12px;canvas{@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}animation:gradient 15s ease infinite;background:linear-gradient( -45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab );background-size:400% 400%;border-radius:10px;height:auto;max-width:100%;}&:not(.generating) canvas{animation:unset;background:transparent;background-size:unset;}.prompt{color:rgb(15 15 15);font-size:12px;padding-bottom:6px;padding-left:6px;}.powered-by{display:flex;place-content:end;width:100%;div{background-color:rgb(230 230 230);border:1px solid rgb(220 220 220);border-radius:5px;color:rgb(90 90 90);font-size:11.5px;padding:5px;width:fit-content;}}}.responding{background-color:rgb(32 32 32);bottom:120px;display:flex;left:0;margin:0 16px;margin-top:-6px;padding:7px 0;place-content:center;place-items:center;position:absolute;width:calc(100% - 32px);.stop{background-color:rgb(45 45 45);border:',";border-radius:8px;color:#fff;cursor:pointer;display:flex;font-size:13px;letter-spacing:0.3px;min-height:36px;padding:8px;place-content:center;place-items:center;&:hover{background-color:rgb(50 50 50);}&.canceling{background-color:rgb(42 42 42);}.stop-icon{fill:",";height:18px;margin-right:6px;width:18px;}}}.failed-session{display:flex;font-size:12px;margin-bottom:10px;place-content:center;place-items:center;width:",';&::before,&::after{border-bottom:1px solid rgb(48 48 48);content:"";flex:1 1 0%;margin-top:3px;}&::before{margin-inline-end:5px;}&::after{margin-inline-start:5px;}a{color:',";cursor:pointer;margin-left:4px;}.warning-icon{fill:",";height:18px;margin-right:4px;margin-top:2px;width:18px;}}.controls{padding-left:36px;padding-top:11px;pointer-events:all;position:relative;&.hidden{display:none;}&.invisible{height:13px;opacity:0%;pointer-events:none;}.control{background-color:transparent;border-radius:5px;height:32px;visibility:hidden;width:32px;&:hover{background-color:rgb(45 45 45);border:1px solid rgb(65 65 65);}&:active{background-color:rgb(42 42 42);}.control-icon{fill:#fff;height:20px;width:20px;}.save-icon{position:relative;top:1px;}.background-icon{position:relative;top:-1px;}}&:hover,&.last{.control{visibility:visible;}}}}}.header{height:49px;min-width:","px;padding:14px 15px 16px;header{display:flex;justify-content:space-between;padding:3px 1px;nav{position:relative;right:-8px;top:-9px;.close{border-radius:5px;height:36px;transition:background-color 0.2s ease-in-out;width:36px;> svg{fill:rgb(241 241 241);width:12px;}&:hover{background-color:rgb(49 49 49);}}}}}footer{bottom:0;display:flex;flex-direction:row;height:122px;min-width:","px;padding:16px 14px;place-content:space-between;position:absolute;.new-topic{background:",";border-radius:50%;cursor:pointer;height:40px;place-content:center;place-items:center;transition:opacity 0.1s 0.1s ease-in-out;width:40px;> .chat{fill:#fff;height:20px;pointer-events:none;position:relative;top:1px;width:20px;}&:active{border:1px solid rgb(32 32 32);}}.submit{background-color:transparent;border-radius:5px;height:36px;position:relative;right:5px;top:49px;width:36px;.send{fill:",";height:20px;pointer-events:none;position:relative;top:1px;width:20px;}&:hover{background-color:",";cursor:",";}&:active{background-color:rgb(38 38 38);}}textarea{background-color:rgb(31 31 31);border:1px solid rgb(102 102 102);border-radius:7px;bottom:16px;color:#fff;font-family:",";font-size:12.5px;letter-spacing:0.6px;min-height:90px;overflow:hidden;padding:13px 44px 13px 15px;position:absolute;resize:none;right:14px;transition:border-bottom 0.2s 0.2s ease-in-out,width 0.2s 0.2s ease-in-out;width:calc(100% - 80px);&::placeholder{color:rgb(206 206 206);}&:focus{border-bottom:",";width:",";& + .new-topic{opacity:",";transition-delay:","s;}}&:not(:focus) + .new-topic{transition-delay:0.4s;}}}"],p.D5,p.D5,({$zIndex:e})=>e,({$width:e})=>e-1,({$scrollbarVisible:e})=>e?"calc(100% + 6px)":"100%",({$secondaryColor:e,$tertiaryColor:t})=>`linear-gradient(135deg, ${e} 0%, ${t} 100%)`,({$responding:e})=>e?"43px":void 0,({$tertiaryColor:e})=>e,({theme:e})=>e.formats.systemFont,({theme:e})=>e.formats.systemFont,({$primaryColor:e})=>`1px solid ${e}`,({$primaryColor:e})=>e,({$scrollbarVisible:e})=>e?"calc(100% + 6px)":"100%",({$primaryColor:e})=>e,({$primaryColor:e})=>e,({$width:e})=>e-1,({$width:e})=>e-1,({$secondaryColor:e,$tertiaryColor:t})=>`linear-gradient(135deg, ${e} 0%, ${t} 100%)`,({$primaryColor:e,$typing:t})=>t?e:"rgb(99, 99, 99)",({$typing:e})=>e?"rgb(44, 44, 44)":void 0,({$typing:e})=>e?"pointer":void 0,({theme:e})=>e.formats.systemFont,({$primaryColor:e})=>`2px solid ${e}`,({$typing:e})=>e?"calc(100% - 28px)":void 0,({$typing:e})=>e?"0%":"100%",({$typing:e})=>e?.2:.4);var m=i(75014),b=i(3861),f=i(60109),v=i(96856),w=i(55137),j=i(55295),k=i(72328),y=i(65231);let C=async e=>{await (0,f.aY)(["/Program Files/PDF.js/pdf.js"]);let t="";if(window.pdfjsLib){window.pdfjsLib.GlobalWorkerOptions.workerSrc="/Program Files/PDF.js/pdf.worker.js";try{let i=await window.pdfjsLib.getDocument(e).promise;for(let e=0;e<i.numPages;e+=1){let r=await (await i.getPage(e+1)).getTextContent();t+=r.items.map(e=>e.str||"").filter(Boolean).join(" ")}}catch{}}return t};var N=i(26451);let S=({toggleAI:e})=>{let{colors:{taskbar:t},sizes:{taskbar:i}}=(0,n.DP)(),g=(0,o.useCallback)(()=>Math.min(i.ai.chatWidth,(0,f.e8)()),[i.ai.chatWidth]),[S,M]=(0,o.useState)(g),$=h(S),[A,L]=(0,o.useState)("balanced"),[z,H,B]=t.ai[A],[F,D]=(0,o.useState)(""),P=(0,o.useRef)(null),V=(0,o.useRef)(null),Z=F.length>0,[E,T]=(0,o.useState)([]),W=(0,o.useCallback)((e,t,i,r,n=!1)=>{e&&T(o=>{let s={formattedText:l(i||e),text:e,type:t,withCanvas:n};if(r){let e=[...o];return e[r]=s,e}return[...o,s]})},[]),I=(0,o.useCallback)(()=>{F&&(W(c(F),"user"),P.current.value="",D(""))},[W,F]),R=(0,o.useMemo)(()=>E.length-[...E].reverse().findIndex(({type:e})=>"ai"===e)-1,[E]),[U,q]=(0,o.useState)(!1),[_,K]=(0,o.useState)(!1),[G,O]=(0,o.useState)(!1),J=(0,o.useRef)(0),X=(0,k.i)(),Y=(0,v.A)(x),Q=(0,o.useCallback)(()=>{Y.current&&U&&(Y.current.postMessage("cancel"),K(!0))},[Y,U]),[ee,et]=(0,o.useState)([]),ei=(0,o.useCallback)(e=>{et(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),er=(0,o.useCallback)(()=>{Q(),J.current=0,T([]),et([]),O(!1)},[Q]),en=(0,o.useCallback)(e=>{A!==e&&(er(),L(e),P.current?.focus(p.VD))},[A,er]),[eo,es]=(0,o.useState)(),{removeFromStack:ea,setWallpaper:el}=(0,j.w)(),{zIndex:ec,...ed}=(0,w.A)(p.gD,void 0,eo),[ep,eh]=(0,o.useState)(!1),[ex,eg]=(0,o.useState)(-1),[eu,em]=(0,o.useState)(""),eb=(0,o.useCallback)(()=>{let e=P.current;e.style.height="auto",e.style.height=`${e.scrollHeight}px`},[]),{exists:ef,readFile:ev,stat:ew}=(0,y.f)(),ej=(0,o.useRef)({}),ek=(0,o.useCallback)(async()=>{let{text:e}=E[E.length-1];q(!0),J.current||=Date.now();let t="",i=e.toLowerCase(),r=i.startsWith("summarize: /"),n=i.startsWith("generate: ");if(r){let i=e.slice(11).trim();if(await ef(i)&&!(await ew(i)).isDirectory()){let e=await ev(i),r=(0,f.uQ)(i);[".html",".htm",".whtml"].includes(r)?t=new DOMParser().parseFromString(e.toString(),"text/html").body.textContent||"":".pdf"===r&&(t=await C(e))}}else if(n)return void W(e.slice(10).trim(),"ai","I'll try to create that.",E.length,!0);Y.current?.postMessage({hasWindowAI:X,id:J.current,streamId:E.length,style:A,summarizeText:t,text:e})},[W,Y,E,A,ef,X,ev,ew]),{createSnapshot:ey}=(0,N.p)(),eC=(0,o.useCallback)(async(e,t,i)=>{let r=ej.current[e];return r?ey(`${t}.png`,(0,f.SJ)(r),void 0,!1,i):""},[ey]);return(0,o.useEffect)(()=>{P.current?.focus(p.VD)},[]),(0,o.useEffect)(()=>{let e=()=>M(g);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[g]),(0,o.useEffect)(()=>{(E.length>0||G)&&requestAnimationFrame(()=>{V.current?.scrollTo({behavior:"smooth",top:V.current.scrollHeight}),eb()}),eh(E.length>0&&V.current instanceof HTMLElement&&V.current.scrollHeight>V.current.clientHeight)},[eb,E,G]),(0,o.useEffect)(()=>{Y.current&&E.length>0&&"user"===E[E.length-1].type&&ek()},[Y,E,ek]),(0,o.useEffect)(()=>{window.initialAiPrompt&&(window.initialAiPrompt===F?0===E.length&&Y.current&&(window.initialAiPrompt="",I()):D(window.initialAiPrompt))},[I,Y,E.length,F]),(0,o.useEffect)(()=>{let e=Y.current,t=({data:e})=>{let t=e.streamId;if(t||q(!("string"==typeof e||"response"in e)),"canceled"===e)K(!1);else if(e.progress){let{progress:{text:t}}=e;em(s(t))}else if(e.response||t){let{complete:t,formattedResponse:i,response:r,streamId:n}=e;t?q(!1):W(r,"ai",i,n)}else""===e.response&&O(!0)};return e?.addEventListener("message",t),()=>e?.removeEventListener("message",t)},[W,Y]),(0,r.jsxs)(u,{ref:es,$primaryColor:z,$responding:U,$scrollbarVisible:ep,$secondaryColor:H,$tertiaryColor:B,$typing:Z,$width:S,$zIndex:ec,...$,...ed,children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("header",{children:[p.K1," (beta)",(0,r.jsx)("nav",{children:(0,r.jsx)(b.A,{className:"close",onClick:()=>{e(),ea(p.gD)},...(0,f.Pf)("Close"),children:(0,r.jsx)(m.US,{})})})]})}),(0,r.jsxs)("section",{ref:V,children:[(0,r.jsxs)("div",{className:"convo-header",children:[(0,r.jsxs)("div",{className:"title",children:[(0,r.jsx)(d.Aq,{})," ",p.K1]}),(0,r.jsxs)("div",{className:"convo-style",children:["Choose a conversation style",(0,r.jsxs)("div",{className:"buttons",children:[(0,r.jsxs)("button",{className:"creative"===A?"selected":"",onClick:()=>en("creative"),type:"button",...(0,f.Pf)("Start an original and imaginative chat"),children:[(0,r.jsx)("h4",{children:"More"}),(0,r.jsx)("h2",{children:"Creative"})]}),(0,r.jsxs)("button",{className:"balanced"===A?"selected":"",onClick:()=>en("balanced"),type:"button",...(0,f.Pf)("For everyday, informed chats"),children:[(0,r.jsx)("h4",{children:"More"}),(0,r.jsx)("h2",{children:"Balanced"})]}),(0,r.jsxs)("button",{className:"precise"===A?"selected":"",onClick:()=>en("precise"),type:"button",...(0,f.Pf)("Start a concise chat, useful for fact-finding"),children:[(0,r.jsx)("h4",{children:"More"}),(0,r.jsx)("h2",{children:"Precise"})]})]})]})]}),(0,r.jsxs)("div",{className:"conversation",children:[E.map(({formattedText:e,type:t,text:i,withCanvas:n},o)=>(0,r.jsxs)("div",{className:t,children:[(0===o||E[o-1].type!==t)&&(0,r.jsxs)("div",{className:"avatar",children:["user"===t?(0,r.jsx)(d.nX,{}):(0,r.jsx)(d.Aq,{}),"user"===t?"You":"AI"]}),i.startsWith("<think>")&&(0,r.jsx)("button",{className:(0,f.$z)({thinking:!0,"thinking-responding":U&&o===E.length-1}),type:"button",...(!U||o<E.length-1)&&i.includes("</think>")&&{onClick:()=>ei(o)},children:i.includes("</think>")||!U||o<E.length-1?"Thoughts":"Thinking..."}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e},className:(0,f.$z)({"hide-think":ee.includes(o),message:!0})}),(0,r.jsxs)("div",{className:(0,f.$z)({controls:!0,hidden:U&&!n&&o===E.length-1,invisible:U&&!!n,last:o===R}),children:[(0,r.jsx)("button",{className:"control",onClick:()=>{navigator.clipboard?.writeText(i),eg(o),setTimeout(()=>eg(-1),5e3)},type:"button",...(0,f.Pf)(ex===o?"Copied":"Copy"),children:(0,r.jsx)(d.Td,{})}),"user"===t&&(0,r.jsx)("button",{className:"control",onClick:()=>{P.current&&(P.current.value=i,P.current.focus(p.VD),D(i))},type:"button",...(0,f.Pf)("Edit"),children:(0,r.jsx)(d.qU,{})}),"speechSynthesis"in window&&"ai"===t&&(0,r.jsx)("button",{className:"control",onClick:()=>a(i),type:"button",...(0,f.Pf)("Read aloud"),children:(0,r.jsx)(d.AJ,{})}),"ai"===t&&n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"control",onClick:()=>eC(o,i,p.Bn),type:"button",...(0,f.Pf)("Save"),children:(0,r.jsx)(d.LP,{})}),(0,r.jsx)("button",{className:"control",onClick:()=>eC(o,i,p.Sb).then(e=>el(`${p.Sb}/${e}`)),type:"button",...(0,f.Pf)("Set as background"),children:(0,r.jsx)(d.Wm,{})})]})]}),n&&(0,r.jsxs)("div",{className:(0,f.$z)({generating:U&&o===E.length-1,"image-container":!0}),children:[(0,r.jsx)("canvas",{ref:e=>{if(e instanceof HTMLCanvasElement&&ej.current[o]!==e){ej.current[o]=e;try{let t=e.transferControlToOffscreen();Y.current?.postMessage({hasWindowAI:X,id:J.current,imagePrompt:i,offscreenCanvas:t,streamId:E.length,style:A,text:i},[t])}catch{}}},height:512,width:512}),(0,r.jsxs)("div",{className:"prompt",children:['"',i,'"']}),(0,r.jsx)("div",{className:"powered-by",children:(0,r.jsx)("div",{children:"Powered by Stable Diffusion 1.5"})})]})]},o)),U&&(0,r.jsx)("div",{className:"responding",children:(0,r.jsxs)("button",{className:`stop${_?" canceling":""}`,disabled:!!eu||_,onClick:Q,type:"button",children:[!eu&&!_&&(0,r.jsx)(d.wF,{}),_?"Canceling":eu||"Stop Responding"]})}),G&&(0,r.jsxs)("div",{className:"failed-session",children:[(0,r.jsx)(d.id,{}),"It might be time to move onto a new topic.",(0,r.jsx)("a",{onClick:er,children:"Let's start over."})]})]})]}),(0,r.jsxs)("footer",{children:[(0,r.jsx)("textarea",{ref:P,disabled:G,onBlur:eb,onChange:e=>{D(e.target.value),eb()},onFocus:eb,onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),_||U||I()),eb()},placeholder:"Ask me anything..."}),(0,r.jsx)("button",{className:"new-topic",onClick:er,type:"button",...(0,f.Pf)("New topic"),children:(0,r.jsx)(d.oy,{})}),(0,r.jsx)("button",{className:"submit",disabled:_||U,...Z&&{onClick:I},type:"button",...!_&&Z?(0,f.Pf)("Submit"):void 0,children:!_&&Z?(0,r.jsx)(d.Sz,{}):(0,r.jsx)(d.qx,{})})]})]})}},96856:(e,t,i)=>{i.d(t,{A:()=>n});var r=i(14232);let n=(e,t)=>{let i=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>(e&&!i.current&&(i.current=e(),t&&i.current.addEventListener("message",t,{passive:!0}),i.current.postMessage("init")),()=>{i.current?.terminate(),i.current=void 0}),[t,e]),i}}}]);