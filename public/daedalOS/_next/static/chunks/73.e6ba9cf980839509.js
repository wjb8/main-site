"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{22391:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(14232),o=i(16361),r=i(60109);let n=(e,t=!0,i=.5,n=.75)=>{let a=(0,s.useMemo)(()=>Math.min(e,(0,r.Bv)()-o.D5),[e]);return{animate:"active",exit:{height:`${a*n}px`,transition:{duration:o.f9.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:o.f9.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${a}px`,paddingTop:0},initial:{height:`${a*n}px`,paddingTop:t?`${a*i}px`:0}}}}},41824:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(77232),o=i(16361);let r=(e,t,i=0,r=!1)=>(0,s.AH)(["background-color:hsl(0 0% 13% / 95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsl(0 0% 10% / 50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsl(0 0% 13% / 70%);}"],r?"1px solid hsla(0, 0%, 25%, 75%)":"none",o.D5,i,e,t,i)},70073:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var s=i(37876),o=i(77232),r=i(14232),n=i(40514);let a=o.Ay.nav.withConfig({componentId:"sc-904ba655-0"})(["display:flex;flex-direction:column;height:100%;justify-content:space-between;overflow:hidden;padding-top:4px;position:absolute;top:0;transition-duration:150ms;width:","px;z-index:1;&:hover:not(&.collapsed){backdrop-filter:",";background-color:hsl(0 0% 10% / 95%);box-shadow:8px 0 5px -5px hsl(0 0% 10% / 50%);transition:all 300ms ease,backdrop-filter 1ms;transition-timing-function:cubic-bezier(0.15,1,0.5,1);width:",";@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsl(0 0% 10% / 75%);}}&.collapsed{transition:all 300ms ease,backdrop-filter 600ms;}"],({theme:e})=>e.sizes.startMenu.sideBar.width,({theme:e})=>`blur(${e.sizes.taskbar.panelBlur})`,({theme:e})=>e.sizes.startMenu.sideBar.expandedWidth),l=o.Ay.li.withConfig({componentId:"sc-5e8f9560-0"})(["border:1px solid transparent;display:flex;height:","px;place-content:center;place-items:center;transition-duration:150ms;width:","px;&::before{border-left:",';content:"";height:',"px;left:0;position:absolute;width:","px;}figure{color:",";display:flex;place-items:center;svg{fill:",";height:",";left:",";margin-left:1px;pointer-events:none;position:absolute;width:",";}figcaption{border:1px solid transparent;left:","px;position:absolute;white-space:nowrap;strong{font-weight:600;}}}",":hover:not(",".collapsed) &{transition:width 300ms;transition-timing-function:cubic-bezier(0.15,1,0.5,1);width:",";}&:hover{background-color:hsl(0 0% 35% / 70%);border:1px solid hsl(0 0% 45% / 70%);}&:active{background-color:hsl(0 0% 40% / 70%);}"],({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight,({theme:e})=>e.sizes.startMenu.sideBar.width,({$active:e,theme:t})=>`4px solid ${e?t.colors.selectionHighlight:"transparent"}`,({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight,({theme:e})=>e.sizes.startMenu.sideBar.width,({$active:e,theme:t})=>e?t.colors.highlight:t.colors.text,({$active:e,theme:t})=>e?t.colors.highlight:t.colors.text,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.iconSize,({theme:e})=>e.sizes.startMenu.sideBar.width,a,a,({theme:e})=>e.sizes.startMenu.sideBar.expandedWidth);var c=i(91977),d=i(60109);let h=({action:e,active:t,heading:i,icon:o,name:n,tooltip:a})=>(0,s.jsx)(l,{ref:(0,r.useCallback)(e=>{(0,d.Qv)()&&(0,c.a)(e,!0)},[]),$active:t,"aria-label":n,onClick:e,title:a,children:(0,s.jsxs)("figure",{children:[o,(0,s.jsx)("figcaption",{children:i?(0,s.jsx)("strong",{children:n}):n})]})});var p=i(72494),u=i(65231),v=i(81855),x=i(55295),m=i(16361);let w=({sidebarButtons:e})=>(0,s.jsx)("ol",{children:e.map(e=>(0,s.jsx)(h,{...e},e.name))}),g=(0,r.memo)(({height:e})=>{let{rootFs:t}=(0,u.f)(),{open:n}=(0,v.N)(),{setHaltSession:l}=(0,x.w)(),[c,h]=(0,r.useState)(!0),g=(0,r.useRef)(0),b=(0,r.useRef)(null),f=()=>{g.current&&clearTimeout(g.current)},z=(0,r.useMemo)(()=>[{heading:!0,icon:(0,s.jsx)(p.pg,{}),name:"START",...c&&{tooltip:"Expand"}},{active:!0,icon:(0,s.jsx)(p.Oc,{}),name:"All apps",...c&&{tooltip:"All apps"}}],[c]),{sizes:M}=(0,o.DP)(),k=(0,d.Bv)(),j=(0,r.useMemo)(()=>Math.floor((k-m.D5)/M.startMenu.sideBar.width),[M.startMenu.sideBar.width,k]),B=(0,r.useMemo)(()=>[j>3?{action:()=>n("FileExplorer",{url:`${m.yZ}/Documents`},"/System/Icons/documents.webp"),icon:(0,s.jsx)(p.jj,{}),name:"Documents",...c&&{tooltip:"Documents"}}:void 0,j>4?{action:()=>n("FileExplorer",{url:`${m.yZ}/Pictures`},"/System/Icons/pictures.webp"),icon:(0,s.jsx)(p.aN,{}),name:"Pictures",...c&&{tooltip:"Pictures"}}:void 0,j>5?{action:()=>n("FileExplorer",{url:`${m.yZ}/Videos`},"/System/Icons/videos.webp"),icon:(0,s.jsx)(p.j9,{}),name:"Videos",...c&&{tooltip:"Videos"}}:void 0,{action:()=>{l(!0),i.e(5858,"high").then(i.bind(i,35858)).then(({resetStorage:e})=>e(t).finally(()=>window.location.reload()))},icon:(0,s.jsx)(p.aJ,{}),name:"Power",tooltip:"Clears session data and reloads the page."}].filter(Boolean),[j,c,n,t,l]);return(0,r.useEffect)(()=>f,[]),(0,s.jsxs)(a,{ref:b,className:c?"collapsed":void 0,onClick:({target:e})=>{f(),e instanceof HTMLElement&&(e===b.current&&c||b.current?.contains(e)&&"START"===e.textContent)&&h(e=>!e)},onContextMenu:d.CH,onMouseEnter:()=>{g.current=window.setTimeout(()=>h(!1),700)},onMouseLeave:()=>{f(),h(!0)},style:{height:e},children:[(0,s.jsx)(w,{sidebarButtons:z}),(0,s.jsx)(w,{sidebarButtons:B})]})});var b=i(817),f=i(86076),z=i(8431),M=i(41824),k=i(40661);let j=(0,o.Ay)(b.m.nav).withConfig({componentId:"sc-2cbd5bd3-0"})([""," ","{",";margin-top:0;overflow-x:hidden;padding-bottom:","px;padding-left:","px;padding-top:7px;","{width:",";@supports not selector(::-webkit-scrollbar){width:",";}}","{margin:0;overflow:hidden;padding:0;scrollbar-gutter:auto;figure{picture{margin-left:11px;}&:active{picture{margin-left:15px;}}picture,svg{transition:none;}}}@supports not selector(::-webkit-scrollbar){scrollbar-width:",";}&::-webkit-scrollbar{width:","px;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:",";}&::-webkit-scrollbar-button:single-button{background-color:",";border:",";}&::-webkit-scrollbar-thumb:vertical{background-color:",";}}"],({theme:e})=>(0,M.A)(e.sizes.startMenu.maxHeight,e.sizes.startMenu.size),z.A,(0,k.A)(m.a_,-2,-1),({theme:e})=>e.sizes.startMenu.sideBar.buttonHeight/2,({theme:e})=>e.sizes.startMenu.sideBar.width,f.A,({theme:e})=>`${e.sizes.startMenu.size-e.sizes.startMenu.sideBar.width-m.a_}px`,({theme:e})=>`${e.sizes.startMenu.size-e.sizes.startMenu.sideBar.width-m.Jf}px`,z.A,({$showScrolling:e})=>e?"thin":"none",({$showScrolling:e})=>e?m.a_:0,({$showScrolling:e})=>e?void 0:"transparent",({$showScrolling:e})=>e?void 0:"transparent",({$showScrolling:e})=>e?void 0:"1px solid transparent",({$showScrolling:e})=>e?void 0:"rgb(167, 167, 167)");var B=i(96438);let H=o.Ay.span.withConfig({componentId:"sc-3ec62f89-0"})(["backdrop-filter:",";height:",";inset:0;position:absolute;width:100%;z-index:-1;"],({theme:e})=>`blur(${e.sizes.taskbar.panelBlur})`,({$height:e})=>e);var V=i(4213),y=i(22391),A=i(52179);let $=({toggleStartMenu:e})=>{let t=(0,r.useRef)(null),{sizes:{startMenu:i}}=(0,o.DP)(),[a,l]=(0,r.useState)(!1),c=(0,r.useMemo)(()=>CSS.supports("selector(::-webkit-scrollbar)"),[]),d=(0,r.useMemo)(()=>i.size-(c?m.a_:m.Jf),[c,i.size]),h=(0,r.useCallback)(({clientX:e=0})=>l(e>d),[d]),p=(0,r.useCallback)(e=>{e?.focus(m.VD),t.current=e},[]),u=(0,y.A)(i.maxHeight),{height:v}=u.variants?.active??{};return(0,s.jsxs)(j,{ref:p,$showScrolling:a,id:"startMenu",onBlurCapture:i=>(0,V.Q2)(i,t.current,e,void 0,V.r5),onKeyDown:({key:t})=>{if("Escape"===t)e(!1);else if(1===t.length){e(!1);let i=(0,A.t)(V.BN);if(i){i.click();let e=0,s=window.setInterval(()=>{let i=document.querySelector("main > nav .search > input");i&&(0,B.V0)(i,t),(i||++e>10)&&window.clearInterval(s)},50)}}},onMouseLeave:()=>l(!1),onMouseMove:h,...u,...m.W8,children:[(0,s.jsx)(H,{$height:v}),(0,s.jsx)(g,{height:v}),(0,s.jsx)(n.A,{url:m.Z$,hideLoading:!0,hideShortcutIcons:!0,isStartMenu:!0,loadIconsImmediately:!0,readOnly:!0,skipFsWatcher:!0,skipSorting:!0})]})}},72494:(e,t,i)=>{i.d(t,{Oc:()=>n,aJ:()=>c,aN:()=>d,j9:()=>h,jj:()=>l,pg:()=>a});var s=i(37876),o=i(14232),r=i(77232);let n=(0,o.memo)(()=>(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),a=(0,o.memo)(()=>(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),l=(0,o.memo)(()=>(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),c=(0,o.memo)(()=>{let{colors:e}=(0,r.DP)();return(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),d=(0,o.memo)(()=>(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),h=(0,o.memo)(()=>(0,s.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},96438:(e,t,i)=>{i.d(t,{$A:()=>c,V0:()=>l,cK:()=>a});var s=i(79052),o=i(54239),r=i(16361),n=i(60109);let a=async(e,t,i)=>{if(!e)return;let{subIcons:a,icon:l,pid:c=r.hr[0],url:d}=await new Promise(i=>{e.lstat(t,(s,r)=>{let a=!s&&!!r&&r.isDirectory(),l=(0,n.uQ)(t);l&&!a?(0,o.O6)(e,t,l,e=>i(e)):(0,o.qz)(e,e.getRootFS(),t,a,!1,e=>i(e),!1)})});if(i?.aborted)return;let h=(0,n.t$)(d);return{icon:await (0,o.$j)(e,(0,s.join)(h?r.zP:r.jv,`${h?new URL(d).pathname.replace("/",""):d}${r.V9}`))||l,pid:c,subIcons:a?.includes(r.N9)?a:[],url:d||t}},l=(e,t)=>{let i=0===e.value.length,s=()=>{Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")?.set?.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};s(),requestAnimationFrame(()=>i&&1===t.length&&2===e.value.length&&s())},c=(e,t,i,s,r)=>r?"Nostr URI":s?"App":i?"YouTube Video":e?.isDirectory()||!t?"File folder":(0,o.ti)(t)}}]);