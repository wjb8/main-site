"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6991],{2435:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(14232),o=n(81855),r=n(91372),a=n(16361);let l=e=>{let{title:t}=(0,o.N)(),[n]=(0,i.useMemo)(()=>e.split(a.QB),[e]),{title:l}=r.A[n]||{};return{appendFileToTitle:(0,i.useCallback)((n,i)=>{let o=n?` - ${n}${i?` ${a.g6}`:""}`:"";t(e,`${l}${o}`)},[e,l,t]),prependFileToTitle:(0,i.useCallback)((n,i,o)=>{let r=n?`${i?`${a.g6} `:""}${n}${o?" ":" - "}`:"";t(e,`${r}${l}`)},[e,l,t])}}},8719:(e,t,n)=>{n.d(t,{EU:()=>r,Jo:()=>l,rH:()=>o});var i=n(16361);let o=e=>e?.mode.isReadOnly()||!e?.getContent(),r=(e,t)=>{let n=e.editorContainer?.querySelector(".tox-editor-header");n instanceof HTMLDivElement&&n.addEventListener("click",()=>{n.removeAttribute("title"),e.mode.set("design"),t()},i.w3),e.mode.set("readonly")},a=new Set(["wikipedia.org","archive.org"]),l=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),[,n,i]=t.split(".");return a.has(`${n}.${i}`)||a.has(t)}catch{return!1}}},35144:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(37876),o=n(14232),r=n(77232),a=n(43010),l=n(78011),s=n(81855);let d=r.Ay.div.withConfig({componentId:"sc-5da8521e-0"})([""]),c=(0,o.memo)(({id:e,useHook:t,StyledComponent:n,children:r})=>{let{processes:{[e]:{url:c=""}={}}}=(0,s.N)(),u=(0,o.useRef)(null),[f,m]=(0,o.useState)(!0),p=(0,o.useMemo)(()=>({contain:"strict",visibility:f?"hidden":"visible"}),[f]);return t({containerRef:u,id:e,loading:f,setLoading:m,url:c}),(0,i.jsxs)(i.Fragment,{children:[f&&(0,i.jsx)(a.A,{}),(0,i.jsx)(n||d,{ref:u,style:p,...(0,l.A)({id:e}),children:r})]})})},43010:(e,t,n)=>{n.d(t,{A:()=>i});let i=n(77232).Ay.div.withConfig({componentId:"sc-29e5eb62-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}'])},56991:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i=n(37876);let o=n(77232).Ay.div.withConfig({componentId:"sc-58c04d9b-0"})(['height:100%;[role="application"]{border-radius:0;height:100% !important;button[aria-disabled="true"]{pointer-events:none;svg{fill:rgb(255 255 255 / 50%);}}.tox-statusbar{font-size:12px;}&[aria-disabled="true"]{.tox-editor-header{height:0;margin-top:-1px;overflow:hidden;padding:0;position:relative;visibility:hidden;&::after{bottom:0;color:rgb(200 200 200);content:"Edit Document";cursor:pointer;display:flex;font-size:12px;font-weight:600;height:24px;left:0;padding:0 10px;padding-bottom:2px;place-content:center;place-items:center;position:fixed;transform:translateZ(0);visibility:visible;width:auto;z-index:1;}&:hover::after{background-color:rgb(255 255 255 / 15%);}.tox-toolbar-overlord{display:none;}}.tox-statusbar__path-item{display:none;}}iframe{background-color:#202124;}}']);var r=n(79052),a=n(14232),l=n(16361);let s={base_url:"/Program Files/TinyMCE/",branding:!1,contextmenu:"",draggable_modal:!0,help_accessibility:!1,image_advtab:!0,plugins:`
  code help image link save wordcount`,promotion:!1,suffix:".min",toolbar:`
  save undo redo | formatselect | bold italic underline | forecolor backcolor |
  alignleft aligncenter alignright | outdent indent | code help`},d=`${l.Bn}/New Rich Text Document.whtml`;var c=n(8719),u=n(54239),f=n(78011),m=n(2435),p=n(65231),g=n(81855),h=n(55295),w=n(60109),b=n(81082),v=n(82909).Buffer;let y=({containerRef:e,id:t,setLoading:i,url:o})=>{let{processes:{[t]:{libs:y=[]}={}}={},url:x}=(0,g.N)(),[E,C]=(0,a.useState)(),{prependFileToTitle:k}=(0,m.A)(t),{readFile:A,stat:$,updateFolder:L,writeFile:T}=(0,p.f)(),{onDragOver:D,onDrop:W}=(0,f.A)({id:t}),{setForegroundId:_}=(0,h.w)(),H=(0,a.useCallback)(async e=>{let t=new Date((0,u.nR)(e,await $(e))),n=new Intl.DateTimeFormat(l.Xn,{dateStyle:"medium"}).format(t);k(`${(0,r.basename)(e,(0,r.extname)(e))} (${n})`)},[k,$]),R=(0,b.U)(),S=(0,a.useCallback)(()=>{let t=e.current?.querySelector("iframe");t?.contentWindow&&[...t.contentWindow.document.links].forEach(e=>e.addEventListener("click",t=>{E?.mode.isReadOnly()&&R(t,e.dataset.mceHref||"",e.pathname,e.textContent||"")}))},[e,E?.mode,R]),U=(0,a.useCallback)(async()=>{if(E){let e=()=>{E.options.set("save_onsavecallback",async()=>{let e={closeButton:!0,text:"Successfully saved.",timeout:5e3,type:"success"},t=o||d;try{await T(".rtf"===(0,w.uQ)(t)?t.replace(".rtf",".whtml"):t,E.getContent(),!0),L((0,r.dirname)(t),(0,r.basename)(t)),H(t)}catch{e.text="Error occurred while saving.",e.type="error"}E.notificationManager.open(e);let n=E.notificationManager.getNotifications()?.[0]?.getEl()?.parentElement,i=E.editorContainer;n instanceof HTMLElement&&i instanceof HTMLElement&&(i.append(n),n.setAttribute("style","position: absolute; right: 0; bottom: 0; padding: 33px 25px;"),n.querySelector("[role=alert]")?.setAttribute("style","opacity: 1;")),t===d&&H(t)})},t=o?await A(o):v.from("");if(0===t.length)E.mode.set("design"),e();else{if((0,c.EU)(E,e),".rtf"===(0,w.uQ)(o)){let{RTFJS:e}=await Promise.all([n.e(9410,"high"),n.e(9146,"high")]).then(n.bind(n,69146)),i=new e.Document(t),o=await i.render();E.setContent(o.map(e=>e.outerHTML).join(""))}else E.setContent(t.toString());S(),E.iframeElement?.contentDocument&&(E.iframeElement.contentDocument.documentElement.scrollTop=0)}o&&H(o)}},[E,S,A,L,H,o,T]),j=(0,a.useRef)(!1);(0,a.useEffect)(()=>{E||j.current||(j.current=!0,(0,w.aY)(y).then(()=>{window.tinymce&&e.current&&window.tinymce.init({readonly:!!o,selector:`.${[...e.current.classList].join(".")} div[id="${t}"]`,setup:e=>{e.on("ExecCommand",({command:e})=>{"mceNewDocument"===e&&(x(t,""),k(""))})},...s}).then(([n])=>{let o=e.current?.querySelector("iframe");o?.contentWindow&&(o.contentWindow.addEventListener("dragover",e=>{(0,c.rH)(n)&&D(e)}),o.contentWindow.addEventListener("drop",e=>{(0,c.rH)(n)&&W(e)}),o.contentWindow.addEventListener("blur",()=>_(e=>e===t?"":e)),o.contentWindow.addEventListener("focus",()=>_(t)),o.contentWindow.addEventListener("mousedown",({pageX:e})=>o.contentWindow&&e>o.contentWindow.innerWidth-l.Gm&&_(t))),C(n),i(!1)})}))},[e,E,t,y,D,W,k,_,i,x,o]),(0,a.useEffect)(()=>{E&&U()},[E,U]),(0,a.useEffect)(()=>()=>{window.setTimeout(()=>E?.destroy(),0)},[E])};var x=n(35144);let E=({id:e})=>(0,i.jsx)(x.A,{StyledComponent:o,id:e,useHook:y,children:(0,i.jsx)("div",{id:e})})},78011:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(79052),o=n(14232),r=n(49697),a=n(84966),l=n(54188),s=n(65231),d=n(81855),c=n(55295),u=n(16361),f=n(60109),m=n(29804);let p=({callback:e,directory:t=u.Bn,id:n,onDragLeave:p,onDragOver:g,updatePositions:h})=>{let{url:w}=(0,d.N)(),b=(0,m.w)(),{iconPositions:v,sortOrders:y,setIconPositions:x}=(0,c.w)(),{exists:E,mkdirRecursive:C,updateFolder:k,writeFile:A}=(0,s.f)(),$=(0,o.useCallback)(async(e,t,o)=>{if(n)if(t){let r=(0,i.join)(u.Bn,e);if(await C(u.Bn),await A(r,t,!0))return o===l.z.UPDATE_URL&&w(n,r),k(u.Bn,e),(0,i.basename)(r)}else o===l.z.UPDATE_URL&&w(n,e);return""},[n,C,k,w,A]),{openTransferDialog:L}=(0,r.A)();return{onDragLeave:p,onDragOver:(0,o.useCallback)(e=>{g?.(e),(0,f.CH)(e)},[g]),onDrop:(0,o.useCallback)(o=>{if(u.jj.has((0,f.uQ)(t)))return;if(o.target instanceof HTMLElement){if(o.target.closest(".focus-within")?.contains(o.target))return;if(h){let{files:e,text:n}=(0,a.bn)(o);if(0===e.length&&""===n)return;(async()=>{let r={x:o.clientX,y:o.clientY},a=[];if(n){try{a=JSON.parse(n)}catch{}if(!Array.isArray(a))return;let[e]=a;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;a=a.map(e=>(0,i.basename)(e))}else a=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);a=await (0,f.$I)(a,t,v,E),(0,f.$Y)(t,o.target,v,y,r,a,x,E)})()}}let r="string"==typeof n;r&&!h&&t===u.Bn&&b.current[n]?.componentWindow?.focus(u.VD),(0,a.nX)(o,e||$,t,L,r)},[e,t,E,v,n,L,b,x,y,h,$])}}},81082:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(79052),o=n(14232),r=n(8719),a=n(54239),l=n(81855),s=n(60109),d=n(55295);let c=()=>{let{open:e}=(0,l.N)(),{updateRecentFiles:t}=(0,d.w)();return(0,o.useCallback)((n,o,l,d)=>{if((0,s.CH)(n),(0,s.t$)(o))e("VideoPlayer",{url:o});else if((0,r.Jo)(o))e("Browser",{initialTitle:d,url:o});else if(l&&""!==(0,i.relative)(decodeURI((o.startsWith("/")?o:`/${o}`).replace(window.location.origin,"")),decodeURI(l)))window.open(o,"_blank","noopener, noreferrer");else{let n=(0,a.YD)((0,s.uQ)(l));if(n){let i=decodeURI(l);e(n,{url:i}),i&&t(i,n)}}},[e,t])}}}]);