"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1894],{11894:(e,t,i)=>{i.d(t,{getIpfsFileName:()=>s,getIpfsGatewayUrl:()=>l,getIpfsResource:()=>w});var a=i(16361),r=i(82909).Buffer;let n="",o=["https://<CID>.ipfs.dweb.link/","https://gateway.ipfs.io/ipfs/<CID>/"],f=e=>new Promise(t=>{let i=window.setTimeout(()=>t(!1),a.iC),r=new Image;r.addEventListener("load",()=>{window.clearTimeout(i),t(!0)},a.w3),r.addEventListener("error",()=>{window.clearTimeout(i),t(!1)},a.w3),r.src=`${e.replace("<CID>","bafybeibwzifw52ttrkqlikfzext5akxu7lz4xiwjgwzmqcpdzmp3n5vnbe")}?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`}),l=async(e,t)=>{if(!n||t){for(let e of t?o.filter(e=>e!==n):o)if(await f(e)){n=e;break}if(!n)return""}let{hostname:a,pathname:r,protocol:l,search:s}=new URL(e);if("ipfs:"!==l)return"";let[w="",...c]=`${a}${r}`.split("/").filter(Boolean),{CID:p}=await i.e(3148,"high").then(i.bind(i,43148));return`${n.replace("<CID>",p.parse(w).toV1().toString())}${c.join("/")}${s}`},s=async(e,t)=>{let{hostname:a,pathname:r,searchParams:n}=new URL(e),o=n.get("filename");if(o)return o;let{fileTypeFromBuffer:f}=await Promise.all([i.e(1071,"high"),i.e(7596,"high"),i.e(9742,"high")]).then(i.bind(i,17596)),{ext:l=""}=await f(t)||{},s=`${a}${r}`;return`${s.split("/").filter(Boolean).join("_")}${l?`.${l}`:""}`},w=async e=>{let t,i={...a.c9,cache:"no-cache",credentials:"omit",keepalive:!1,mode:"cors",referrerPolicy:"no-referrer",window:null};try{t=await fetch(await l(e),i)}catch(a){"Failed to fetch"===a.message&&(t=await fetch(await l(e,!0),i))}return t instanceof Response?r.from(await t.arrayBuffer()):r.from("")}}}]);