"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4023],{64023:(t,e,n)=>{n.r(e),n.d(e,{Data:()=>c,Format:()=>u,NtExecutable:()=>W,NtExecutableResource:()=>te,Resource:()=>l,generateExecutableWithSign:()=>eD,version:()=>ta});var i,r,o,a,s,f,u={};n.r(u),n.d(u,{ArrayFormatBase:()=>d,FormatBase:()=>p,ImageDataDirectoryArray:()=>y,ImageDirectoryEntry:()=>b,ImageDosHeader:()=>_,ImageFileHeader:()=>j,ImageNtHeaders:()=>B,ImageOptionalHeader:()=>R,ImageOptionalHeader64:()=>H,ImageSectionHeaderArray:()=>N,findImageSectionBlockByDirectoryEntry:()=>to,getImageDosHeader:()=>tn,getImageNtHeadersByDosHeader:()=>ti,getImageSectionHeadersByNtHeaders:()=>tr});var c={};n.r(c),n.d(c,{IconFile:()=>tb,IconItem:()=>tv,RawIconItem:()=>ty});var l={};n.r(l),n.d(l,{IconGroupEntry:()=>tm,StringTable:()=>tO,VersionFileDriverSubtype:()=>a,VersionFileFlags:()=>tA,VersionFileFontSubtype:()=>s,VersionFileOS:()=>tD,VersionFileType:()=>tS,VersionInfo:()=>tz});let p=function(){function t(t){this.view=t}return t.prototype.copyTo=function(t,e){new Uint8Array(t,e,this.view.byteLength).set(new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength))},Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.view.byteLength},enumerable:!1,configurable:!0}),t}();var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(e){return t.call(this,e)||this}return h(e,t),e.prototype.forEach=function(t){var e=this.length,n=[];n.length=e;for(var i=0;i<e;++i)n[i]=this.get(i);for(var i=0;i<e;++i)t(n[i],i,this)},e.prototype._iterator=function(){return new(function(){function t(t){this.base=t,this.i=0}return t.prototype.next=function(){return this.i===this.base.length?{value:void 0,done:!0}:{value:this.base.get(this.i++),done:!1}},t}())(this)},e}(p);"undefined"!=typeof Symbol&&(g.prototype[Symbol.iterator]=g.prototype._iterator);let d=g;var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let y=function(t){function e(e){var n=t.call(this,e)||this;return n.length=16,n}return v(e,t),e.from=function(t,n){return void 0===n&&(n=0),new e(new DataView(t,n,128))},e.prototype.get=function(t){return{virtualAddress:this.view.getUint32(8*t,!0),size:this.view.getUint32(4+8*t,!0)}},e.prototype.set=function(t,e){this.view.setUint32(8*t,e.virtualAddress,!0),this.view.setUint32(4+8*t,e.size,!0)},e.prototype.findIndexByVirtualAddress=function(t){for(var e=0;e<16;++e){var n=this.view.getUint32(8*e,!0),i=this.view.getUint32(4+8*e,!0);if(t>=n&&t<n+i)return e}return null},e.size=128,e.itemSize=8,e}(d);!function(t){t[t.Export=0]="Export",t[t.Import=1]="Import",t[t.Resource=2]="Resource",t[t.Exception=3]="Exception",t[t.Certificate=4]="Certificate",t[t.Security=4]="Security",t[t.BaseRelocation=5]="BaseRelocation",t[t.Debug=6]="Debug",t[t.Architecture=7]="Architecture",t[t.GlobalPointer=8]="GlobalPointer",t[t.Tls=9]="Tls",t[t.TLS=9]="TLS",t[t.LoadConfig=10]="LoadConfig",t[t.BoundImport=11]="BoundImport",t[t.Iat=12]="Iat",t[t.IAT=12]="IAT",t[t.DelayImport=13]="DelayImport",t[t.ComDescriptor=14]="ComDescriptor",t[t.COMDescriptor=14]="COMDescriptor"}(i||(i={}));let b=i;var w=n(82909).Buffer;function m(t){var e={};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function U(t,e,n){if(!("buffer"in t))return new DataView(t,e,n);var i=t.byteOffset,r=t.byteLength;return void 0!==e&&(i+=e,r-=e),void 0!==n&&(r=n),new DataView(t.buffer,i,r)}function O(t,e){for(var n=_.from(t),i=new DataView(t),r=n.newHeaderAddress+88,o=0,a=function(t){(o+=t)>=0x100000000&&(o=o%0x100000000+(o/0x100000000|0))},s=i.byteLength,f=s%4,u=s-f,c=0;c<u;c+=4)c!==r&&a(i.getUint32(c,!0));if(0!==f){for(var l=0,c=0;c<f;c++)l|=i.getUint8(u+c)<<(3-c)*8;a(l)}return o=(65535&o)+(o>>>16),o+=o>>>16,o=(65535&o)+s,e&&i.setUint32(r,o,!0),o}function A(t,e){return Math.floor((t+e-1)/e)*e}function D(t,e,n,i,r){var o="buffer"in t?new Uint8Array(t.buffer,t.byteOffset+(e||0),r):new Uint8Array(t,e,r),a="buffer"in n?new Uint8Array(n.buffer,n.byteOffset+(i||0),r):new Uint8Array(n,i,r);o.set(a)}function S(t,e,n){var i=new ArrayBuffer(n);return D(i,0,t,e,n),i}function I(t){if("buffer"in t){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),e}var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let _=function(t){function e(e){return t.call(this,e)||this}return E(e,t),e.from=function(t,n){return void 0===n&&(n=0),new e(U(t,n,64))},e.prototype.isValid=function(){return this.magic===e.DEFAULT_MAGIC},Object.defineProperty(e.prototype,"magic",{get:function(){return this.view.getUint16(0,!0)},set:function(t){this.view.setUint16(0,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPageSize",{get:function(){return this.view.getUint16(2,!0)},set:function(t){this.view.setUint16(2,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return this.view.getUint16(4,!0)},set:function(t){this.view.setUint16(4,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relocations",{get:function(){return this.view.getUint16(6,!0)},set:function(t){this.view.setUint16(6,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerSizeInParagraph",{get:function(){return this.view.getUint16(8,!0)},set:function(t){this.view.setUint16(8,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minAllocParagraphs",{get:function(){return this.view.getUint16(10,!0)},set:function(t){this.view.setUint16(10,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxAllocParagraphs",{get:function(){return this.view.getUint16(12,!0)},set:function(t){this.view.setUint16(12,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialSS",{get:function(){return this.view.getUint16(14,!0)},set:function(t){this.view.setUint16(14,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialSP",{get:function(){return this.view.getUint16(16,!0)},set:function(t){this.view.setUint16(16,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkSum",{get:function(){return this.view.getUint16(18,!0)},set:function(t){this.view.setUint16(18,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialIP",{get:function(){return this.view.getUint16(20,!0)},set:function(t){this.view.setUint16(20,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialCS",{get:function(){return this.view.getUint16(22,!0)},set:function(t){this.view.setUint16(22,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relocationTableAddress",{get:function(){return this.view.getUint16(24,!0)},set:function(t){this.view.setUint16(24,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlayNum",{get:function(){return this.view.getUint16(26,!0)},set:function(t){this.view.setUint16(26,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oemId",{get:function(){return this.view.getUint16(36,!0)},set:function(t){this.view.setUint16(36,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oemInfo",{get:function(){return this.view.getUint16(38,!0)},set:function(t){this.view.setUint16(38,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newHeaderAddress",{get:function(){return this.view.getUint32(60,!0)},set:function(t){this.view.setUint32(60,t,!0)},enumerable:!1,configurable:!0}),e.size=64,e.DEFAULT_MAGIC=23117,e}(p);var P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let j=function(t){function e(e){return t.call(this,e)||this}return P(e,t),e.from=function(t,n){return void 0===n&&(n=0),new e(new DataView(t,n,20))},Object.defineProperty(e.prototype,"machine",{get:function(){return this.view.getUint16(0,!0)},set:function(t){this.view.setUint16(0,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberOfSections",{get:function(){return this.view.getUint16(2,!0)},set:function(t){this.view.setUint16(2,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeDateStamp",{get:function(){return this.view.getUint32(4,!0)},set:function(t){this.view.setUint32(4,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerToSymbolTable",{get:function(){return this.view.getUint32(8,!0)},set:function(t){this.view.setUint32(8,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberOfSymbols",{get:function(){return this.view.getUint32(12,!0)},set:function(t){this.view.setUint32(12,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfOptionalHeader",{get:function(){return this.view.getUint16(16,!0)},set:function(t){this.view.setUint16(16,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"characteristics",{get:function(){return this.view.getUint16(18,!0)},set:function(t){this.view.setUint16(18,t,!0)},enumerable:!1,configurable:!0}),e.size=20,e}(p);var z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let R=function(t){function e(e){return t.call(this,e)||this}return z(e,t),e.from=function(t,n){return void 0===n&&(n=0),new e(new DataView(t,n,96))},Object.defineProperty(e.prototype,"magic",{get:function(){return this.view.getUint16(0,!0)},set:function(t){this.view.setUint16(0,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorLinkerVersion",{get:function(){return this.view.getUint8(2)},set:function(t){this.view.setUint8(2,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorLinkerVersion",{get:function(){return this.view.getUint8(3)},set:function(t){this.view.setUint8(3,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfCode",{get:function(){return this.view.getUint32(4,!0)},set:function(t){this.view.setUint32(4,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfInitializedData",{get:function(){return this.view.getUint32(8,!0)},set:function(t){this.view.setUint32(8,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfUninitializedData",{get:function(){return this.view.getUint32(12,!0)},set:function(t){this.view.setUint32(12,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addressOfEntryPoint",{get:function(){return this.view.getUint32(16,!0)},set:function(t){this.view.setUint32(16,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseOfCode",{get:function(){return this.view.getUint32(20,!0)},set:function(t){this.view.setUint32(20,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseOfData",{get:function(){return this.view.getUint32(24,!0)},set:function(t){this.view.setUint32(24,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imageBase",{get:function(){return this.view.getUint32(28,!0)},set:function(t){this.view.setUint32(28,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sectionAlignment",{get:function(){return this.view.getUint32(32,!0)},set:function(t){this.view.setUint32(32,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileAlignment",{get:function(){return this.view.getUint32(36,!0)},set:function(t){this.view.setUint32(36,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorOperatingSystemVersion",{get:function(){return this.view.getUint16(40,!0)},set:function(t){this.view.setUint16(40,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorOperatingSystemVersion",{get:function(){return this.view.getUint16(42,!0)},set:function(t){this.view.setUint16(42,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorImageVersion",{get:function(){return this.view.getUint16(44,!0)},set:function(t){this.view.setUint16(44,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorImageVersion",{get:function(){return this.view.getUint16(46,!0)},set:function(t){this.view.setUint16(46,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorSubsystemVersion",{get:function(){return this.view.getUint16(48,!0)},set:function(t){this.view.setUint16(48,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorSubsystemVersion",{get:function(){return this.view.getUint16(50,!0)},set:function(t){this.view.setUint16(50,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"win32VersionValue",{get:function(){return this.view.getUint32(52,!0)},set:function(t){this.view.setUint32(52,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfImage",{get:function(){return this.view.getUint32(56,!0)},set:function(t){this.view.setUint32(56,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeaders",{get:function(){return this.view.getUint32(60,!0)},set:function(t){this.view.setUint32(60,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkSum",{get:function(){return this.view.getUint32(64,!0)},set:function(t){this.view.setUint32(64,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subsystem",{get:function(){return this.view.getUint16(68,!0)},set:function(t){this.view.setUint16(68,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dllCharacteristics",{get:function(){return this.view.getUint16(70,!0)},set:function(t){this.view.setUint16(70,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackReserve",{get:function(){return this.view.getUint32(72,!0)},set:function(t){this.view.setUint32(72,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackCommit",{get:function(){return this.view.getUint32(76,!0)},set:function(t){this.view.setUint32(76,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapReserve",{get:function(){return this.view.getUint32(80,!0)},set:function(t){this.view.setUint32(80,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapCommit",{get:function(){return this.view.getUint32(84,!0)},set:function(t){this.view.setUint32(84,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderFlags",{get:function(){return this.view.getUint32(88,!0)},set:function(t){this.view.setUint32(88,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberOfRvaAndSizes",{get:function(){return this.view.getUint32(92,!0)},set:function(t){this.view.setUint32(92,t,!0)},enumerable:!1,configurable:!0}),e.size=96,e.DEFAULT_MAGIC=267,e}(p);var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function C(t,e){return 0x100000000*t.getUint32(e+4,!0)+t.getUint32(e,!0)}function V(t,e,n){t.setUint32(e,0|n,!0),t.setUint32(e+4,Math.floor(n/0x100000000),!0)}function T(t,e){if("undefined"==typeof BigInt)throw Error("BigInt not supported");return BigInt(0x100000000)*BigInt(t.getUint32(e+4,!0))+BigInt(t.getUint32(e,!0))}function L(t,e,n){if("undefined"==typeof BigInt)throw Error("BigInt not supported");t.setUint32(e,Number(n&BigInt(0xffffffff)),!0),t.setUint32(e+4,Math.floor(Number(n/BigInt(0x100000000)&BigInt(0xffffffff))),!0)}let H=function(t){function e(e){return t.call(this,e)||this}return x(e,t),e.from=function(t,n){return void 0===n&&(n=0),new e(new DataView(t,n,112))},Object.defineProperty(e.prototype,"magic",{get:function(){return this.view.getUint16(0,!0)},set:function(t){this.view.setUint16(0,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorLinkerVersion",{get:function(){return this.view.getUint8(2)},set:function(t){this.view.setUint8(2,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorLinkerVersion",{get:function(){return this.view.getUint8(3)},set:function(t){this.view.setUint8(3,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfCode",{get:function(){return this.view.getUint32(4,!0)},set:function(t){this.view.setUint32(4,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfInitializedData",{get:function(){return this.view.getUint32(8,!0)},set:function(t){this.view.setUint32(8,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfUninitializedData",{get:function(){return this.view.getUint32(12,!0)},set:function(t){this.view.setUint32(12,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addressOfEntryPoint",{get:function(){return this.view.getUint32(16,!0)},set:function(t){this.view.setUint32(16,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseOfCode",{get:function(){return this.view.getUint32(20,!0)},set:function(t){this.view.setUint32(20,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imageBase",{get:function(){return C(this.view,24)},set:function(t){V(this.view,24,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imageBaseBigInt",{get:function(){return T(this.view,24)},set:function(t){L(this.view,24,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sectionAlignment",{get:function(){return this.view.getUint32(32,!0)},set:function(t){this.view.setUint32(32,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileAlignment",{get:function(){return this.view.getUint32(36,!0)},set:function(t){this.view.setUint32(36,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorOperatingSystemVersion",{get:function(){return this.view.getUint16(40,!0)},set:function(t){this.view.setUint16(40,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorOperatingSystemVersion",{get:function(){return this.view.getUint16(42,!0)},set:function(t){this.view.setUint16(42,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorImageVersion",{get:function(){return this.view.getUint16(44,!0)},set:function(t){this.view.setUint16(44,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorImageVersion",{get:function(){return this.view.getUint16(46,!0)},set:function(t){this.view.setUint16(46,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"majorSubsystemVersion",{get:function(){return this.view.getUint16(48,!0)},set:function(t){this.view.setUint16(48,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minorSubsystemVersion",{get:function(){return this.view.getUint16(50,!0)},set:function(t){this.view.setUint16(50,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"win32VersionValue",{get:function(){return this.view.getUint32(52,!0)},set:function(t){this.view.setUint32(52,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfImage",{get:function(){return this.view.getUint32(56,!0)},set:function(t){this.view.setUint32(56,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeaders",{get:function(){return this.view.getUint32(60,!0)},set:function(t){this.view.setUint32(60,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkSum",{get:function(){return this.view.getUint32(64,!0)},set:function(t){this.view.setUint32(64,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subsystem",{get:function(){return this.view.getUint16(68,!0)},set:function(t){this.view.setUint16(68,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dllCharacteristics",{get:function(){return this.view.getUint16(70,!0)},set:function(t){this.view.setUint16(70,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackReserve",{get:function(){return C(this.view,72)},set:function(t){V(this.view,72,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackReserveBigInt",{get:function(){return T(this.view,72)},set:function(t){L(this.view,72,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackCommit",{get:function(){return C(this.view,80)},set:function(t){V(this.view,80,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfStackCommitBigInt",{get:function(){return T(this.view,80)},set:function(t){L(this.view,80,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapReserve",{get:function(){return C(this.view,88)},set:function(t){V(this.view,88,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapReserveBigInt",{get:function(){return T(this.view,88)},set:function(t){L(this.view,88,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapCommit",{get:function(){return C(this.view,96)},set:function(t){V(this.view,96,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeOfHeapCommitBigInt",{get:function(){return T(this.view,96)},set:function(t){L(this.view,96,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderFlags",{get:function(){return this.view.getUint32(104,!0)},set:function(t){this.view.setUint32(104,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberOfRvaAndSizes",{get:function(){return this.view.getUint32(108,!0)},set:function(t){this.view.setUint32(108,t,!0)},enumerable:!1,configurable:!0}),e.size=112,e.DEFAULT_MAGIC=523,e}(p);var k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let B=function(t){function e(e){return t.call(this,e)||this}return k(e,t),e.from=function(t,n){void 0===n&&(n=0);var i=U(t,n+j.size,6).getUint16(4,!0),r=4+j.size+y.size;return i===H.DEFAULT_MAGIC?r+=H.size:r+=R.size,new e(U(t,n,r))},e.prototype.isValid=function(){return this.signature===e.DEFAULT_SIGNATURE},e.prototype.is32bit=function(){return this.view.getUint16(j.size+4,!0)===R.DEFAULT_MAGIC},Object.defineProperty(e.prototype,"signature",{get:function(){return this.view.getUint32(0,!0)},set:function(t){this.view.setUint32(0,t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileHeader",{get:function(){return j.from(this.view.buffer,this.view.byteOffset+4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optionalHeader",{get:function(){var t=j.size+4;return this.view.getUint16(t,!0)===H.DEFAULT_MAGIC?H.from(this.view.buffer,this.view.byteOffset+t):R.from(this.view.buffer,this.view.byteOffset+t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optionalHeaderDataDirectory",{get:function(){return y.from(this.view.buffer,this.view.byteOffset+this.getDataDirectoryOffset())},enumerable:!1,configurable:!0}),e.prototype.getDataDirectoryOffset=function(){var t=j.size+4;return this.view.getUint16(t,!0)===H.DEFAULT_MAGIC?t+=H.size:t+=R.size,t},e.prototype.getSectionHeaderOffset=function(){return this.getDataDirectoryOffset()+y.size},e.DEFAULT_SIGNATURE=17744,e}(p);var M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();let N=function(t){function e(e,n){var i=t.call(this,e)||this;return i.length=n,i}return M(e,t),e.from=function(t,n,i){return void 0===i&&(i=0),new e(new DataView(t,i,40*n),n)},e.prototype.get=function(t){return{name:function(t,e,n){for(var i=0,r=0;r<8&&0!==t.getUint8(e+r);++r)++i;if(void 0!==w)return w.from(t.buffer,t.byteOffset+e,i).toString("utf8");if("undefined"!=typeof decodeURIComponent){for(var o="",r=0;r<i;++r){var a=t.getUint8(e+r);a<16?o+="%0"+a.toString(16):o+="%"+a.toString(16)}return decodeURIComponent(o)}for(var o="",r=0;r<i;++r){var a=t.getUint8(e+r);o+=String.fromCharCode(a)}return o}(this.view,40*t,0),virtualSize:this.view.getUint32(8+40*t,!0),virtualAddress:this.view.getUint32(12+40*t,!0),sizeOfRawData:this.view.getUint32(16+40*t,!0),pointerToRawData:this.view.getUint32(20+40*t,!0),pointerToRelocations:this.view.getUint32(24+40*t,!0),pointerToLineNumbers:this.view.getUint32(28+40*t,!0),numberOfRelocations:this.view.getUint16(32+40*t,!0),numberOfLineNumbers:this.view.getUint16(34+40*t,!0),characteristics:this.view.getUint32(36+40*t,!0)}},e.prototype.set=function(t,e){!function(t,e,n,i){if(void 0!==w){var r=new Uint8Array(t.buffer,t.byteOffset+e,8);r.set(new Uint8Array(8)),r.set(w.from(i,"utf8").subarray(0,n))}else if("undefined"!=typeof encodeURIComponent)for(var o=encodeURIComponent(i),a=0,s=0;a<n;++a)if(s>=o.length)t.setUint8(a+e,0);else{var f=o.charCodeAt(s);if(37===f){var u=parseInt(o.substr(s+1,2),16);"number"!=typeof u||isNaN(u)?t.setUint8(a+e,0):t.setUint8(a+e,u),s+=3}else t.setUint8(a+e,f)}else for(var a=0,s=0;a<n;++a)if(s>=i.length)t.setUint8(a+e,0);else{var f=i.charCodeAt(s);t.setUint8(a+e,255&f)}}(this.view,40*t,8,e.name),this.view.setUint32(8+40*t,e.virtualSize,!0),this.view.setUint32(12+40*t,e.virtualAddress,!0),this.view.setUint32(16+40*t,e.sizeOfRawData,!0),this.view.setUint32(20+40*t,e.pointerToRawData,!0),this.view.setUint32(24+40*t,e.pointerToRelocations,!0),this.view.setUint32(28+40*t,e.pointerToLineNumbers,!0),this.view.setUint16(32+40*t,e.numberOfRelocations,!0),this.view.setUint16(34+40*t,e.numberOfLineNumbers,!0),this.view.setUint32(36+40*t,e.characteristics,!0)},e.itemSize=40,e}(d);var F=new Uint8Array([14,31,186,14,0,180,9,205,33,184,1,76,205,33,68,79,83,32,109,111,100,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,13,13,10,36,0,0,0,0,0,0,0]),G=A(_.size+F.length,128);let W=function(){function t(t,e,n){this._headers=t,this._sections=e,this._ex=n;var i=_.from(t),r=B.from(t,i.newHeaderAddress);this._dh=i,this._nh=r,this._dda=r.optionalHeaderDataDirectory,e.sort(function(t,e){var n=t.info.pointerToRawData,i=t.info.pointerToRawData;if(n!==i)return n-i;var r=t.info.virtualAddress,o=e.info.virtualAddress;return r===o?t.info.virtualSize-e.info.virtualSize:r-o})}return t.createEmpty=function(t,e){var n,i,r,o,a,s,f,u,c,l;return void 0===t&&(t=!1),void 0===e&&(e=!0),this.from((n=t,i=e,a=o=new ArrayBuffer(r=A(G+(4+j.size+(n?R.size:H.size)+y.size),512)),(s=_.from(a)).magic=_.DEFAULT_MAGIC,s.lastPageSize=G%512,s.pages=Math.ceil(G/512),s.relocations=0,s.headerSizeInParagraph=Math.ceil(_.size/16),s.minAllocParagraphs=0,s.maxAllocParagraphs=65535,s.initialSS=0,s.initialSP=128,s.relocationTableAddress=_.size,s.newHeaderAddress=G,D(a,_.size,F,0,F.length),"buffer"in o?(f=o.buffer,u=o.byteOffset+G):(f=o,u=G),new DataView(f,u).setUint32(0,B.DEFAULT_SIGNATURE,!0),(c=j.from(f,u+4)).machine=n?332:34404,c.numberOfSections=0,c.timeDateStamp=0,c.pointerToSymbolTable=0,c.numberOfSymbols=0,c.sizeOfOptionalHeader=(n?R.size:H.size)+y.size,c.characteristics=i?8450:258,(l=(n?R:H).from(f,u+4+j.size)).magic=n?R.DEFAULT_MAGIC:H.DEFAULT_MAGIC,l.sizeOfCode=0,l.sizeOfInitializedData=0,l.sizeOfUninitializedData=0,l.addressOfEntryPoint=0,l.baseOfCode=4096,l.imageBase=n?0x1000000:0x180000000,l.sectionAlignment=4096,l.fileAlignment=512,l.majorOperatingSystemVersion=6,l.minorOperatingSystemVersion=0,l.majorSubsystemVersion=6,l.minorSubsystemVersion=0,l.sizeOfHeaders=A(r,l.fileAlignment),l.subsystem=2,l.dllCharacteristics=32*!n+64+256,l.sizeOfStackReserve=1048576,l.sizeOfStackCommit=4096,l.sizeOfHeapReserve=1048576,l.sizeOfHeapCommit=4096,l.numberOfRvaAndSizes=y.size/y.itemSize,o))},t.from=function(e,n){var i=_.from(e),r=B.from(e,i.newHeaderAddress);if(!i.isValid()||!r.isValid())throw TypeError("Invalid binary format");if(r.fileHeader.numberOfSymbols>0)throw Error("Binary with symbols is not supported now");var o=r.optionalHeader.fileAlignment,a=r.optionalHeaderDataDirectory.get(b.Certificate);if(a.size>0&&!(null==n?void 0:n.ignoreCert))throw Error("Parsing signed executable binary is not allowed by default.");var s=i.newHeaderAddress+r.getSectionHeaderOffset(),f=r.fileHeader.numberOfSections,u=[],c=S(e,s,f*N.itemSize),l=N.from(c,f,0),p=A(s+f*N.itemSize,o);l.forEach(function(t){if(t.pointerToRawData&&t.sizeOfRawData){var n=S(e,t.pointerToRawData,t.sizeOfRawData);u.push({info:t,data:n});var i=A(t.pointerToRawData+t.sizeOfRawData,o);i>p&&(p=i)}else t.pointerToRawData=0,t.sizeOfRawData=0,u.push({info:t,data:null})});var h=S(e,0,s),g=null,d=e.byteLength;return a.size>0&&(d=a.virtualAddress),p<d&&(g=S(e,p,d-p)),new t(h,u,g)},t.prototype.is32bit=function(){return this._nh.is32bit()},t.prototype.getTotalHeaderSize=function(){return this._headers.byteLength},Object.defineProperty(t.prototype,"dosHeader",{get:function(){return this._dh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newHeader",{get:function(){return this._nh},enumerable:!1,configurable:!0}),t.prototype.getRawHeader=function(){return this._headers},t.prototype.getImageBase=function(){return this._nh.optionalHeader.imageBase},t.prototype.getFileAlignment=function(){return this._nh.optionalHeader.fileAlignment},t.prototype.getSectionAlignment=function(){return this._nh.optionalHeader.sectionAlignment},t.prototype.getAllSections=function(){return this._sections},t.prototype.getSectionByEntry=function(t){var e=this._dda.get(t),n=this._sections.filter(function(t){var n=t.info.virtualAddress+t.info.virtualSize;return e.virtualAddress>=t.info.virtualAddress&&e.virtualAddress<n}).shift();return void 0!==n?n:null},t.prototype.setSectionByEntry=function(t,e){var n=e?{data:e.data,info:e.info}:null,i=this._dda.get(t),r=i.size>0;if(n){var o=n.data?n.data.byteLength:0,a=this._nh.optionalHeader.fileAlignment,s=this._nh.optionalHeader.sectionAlignment,f=n.data?A(o,a):0,u=n.data?A(n.info.virtualSize,s):0;if(n.info.sizeOfRawData<f?n.info.sizeOfRawData=f:f=n.info.sizeOfRawData,r)this.replaceSectionImpl(i.virtualAddress,n.info,n.data);else{var c=0,l=A(this._headers.byteLength,a);this._sections.forEach(function(t){t.info.pointerToRawData&&l<=t.info.pointerToRawData&&(l=t.info.pointerToRawData+t.info.sizeOfRawData),c<=t.info.virtualAddress&&(c=t.info.virtualAddress+t.info.virtualSize)}),f||(l=0),c||(c=this.newHeader.optionalHeader.baseOfCode),c=A(c,s),n.info.pointerToRawData=l,n.info.virtualAddress=c,this._dda.set(t,{size:o,virtualAddress:c}),this._sections.push(n),this._nh.fileHeader.numberOfSections=this._sections.length,this._nh.optionalHeader.sizeOfImage=A(c+u,this._nh.optionalHeader.sectionAlignment)}}else if(r){this._dda.set(t,{size:0,virtualAddress:0});for(var p=this._sections.length,h=0;h<p;++h){var g=this._sections[h],d=g.info.virtualAddress,v=d+g.info.virtualSize;if(i.virtualAddress>=d&&i.virtualAddress<v){this._sections.splice(h,1),this._nh.fileHeader.numberOfSections=this._sections.length;break}}}},t.prototype.getExtraData=function(){return this._ex},t.prototype.setExtraData=function(t){null===t?this._ex=null:this._ex=I(t)},t.prototype.generate=function(t){var e=this._dh,n=this._nh,i=e.newHeaderAddress+n.getSectionHeaderOffset(),r=i;r+=this._sections.length*N.itemSize;var o=n.optionalHeader.fileAlignment;r=A(r,o),this._sections.forEach(function(t){if(t.info.pointerToRawData){var e=t.info.pointerToRawData+t.info.sizeOfRawData;r<e&&(r=A(r=e,o))}});var a=r;null!==this._ex&&(r+=this._ex.byteLength),"number"==typeof t&&(r+=t);var s=new ArrayBuffer(r),f=new Uint8Array(s);f.set(new Uint8Array(this._headers,0,i)),y.from(s,e.newHeaderAddress+n.getDataDirectoryOffset()).set(b.Certificate,{size:0,virtualAddress:0});var u=N.from(s,this._sections.length,i);return this._sections.forEach(function(t,e){t.data||(t.info.pointerToRawData=0,t.info.sizeOfRawData=0),u.set(e,t.info),t.data&&t.info.pointerToRawData&&f.set(new Uint8Array(t.data),t.info.pointerToRawData)}),null!==this._ex&&f.set(new Uint8Array(this._ex),a),0!==n.optionalHeader.checkSum&&O(s,!0),s},t.prototype.rearrangeSections=function(t,e,n,i){if(e||i){for(var r=this._nh,o=r.optionalHeader.sectionAlignment,a=this._dda,s=this._sections.length,f=0,u=0;u<s;++u){var c=this._sections[u],l=c.info.virtualAddress;if(i&&l>=n){var p=a.findIndexByVirtualAddress(l);l+=i,null!==p&&a.set(p,{virtualAddress:l,size:c.info.virtualSize}),c.info.virtualAddress=l}var h=c.info.pointerToRawData;e&&h>=t&&(c.info.pointerToRawData=h+e),f=A(c.info.virtualAddress+c.info.virtualSize,o)}r.optionalHeader.sizeOfImage=f}},t.prototype.replaceSectionImpl=function(t,e,n){for(var i=this._sections.length,r=0;r<i;++r){var o=this._sections[r];if(o.info.virtualAddress===t){var a=this._nh.optionalHeader.sectionAlignment,s=o.info.pointerToRawData,f=s+o.info.sizeOfRawData,u=t+A(o.info.virtualSize,a);o.info=m(e),o.info.virtualAddress=t,o.info.pointerToRawData=s,o.data=n;var c=s+e.sizeOfRawData,l=t+A(e.virtualSize,a);this.rearrangeSections(f,c-f,u,l-u);var p=this._dda,h=p.findIndexByVirtualAddress(t);null!==h&&p.set(h,{virtualAddress:t,size:e.virtualSize});break}}},t}();function K(t,e){var n=t.getUint16(e,!0),i="";e+=2;for(var r=0;r<n;++r)i+=String.fromCharCode(t.getUint16(e,!0)),e+=2;return i}function q(t,e,n,i,r){var o=i,a={name:n,languageTable:i,characteristics:t.getUint32(o,!0),dateTime:t.getUint32(o+4,!0),majorVersion:t.getUint16(o+8,!0),minorVersion:t.getUint16(o+10,!0)},s=t.getUint16(o+12,!0),f=t.getUint16(o+14,!0);o+=16;for(var u=0;u<s;++u){var c=0x7fffffff&t.getUint32(o,!0),l=t.getUint32(o+4,!0);if((0x80000000&l)!=0){o+=8;continue}r(e,a,{lang:K(t,c),dataOffset:l}),o+=8}for(var u=0;u<f;++u){var p=0x7fffffff&t.getUint32(o,!0),l=t.getUint32(o+4,!0);if((0x80000000&l)!=0){o+=8;continue}r(e,a,{lang:p,dataOffset:l}),o+=8}}function X(t,e,n,i){var r=n,o={type:e,nameTable:n,characteristics:t.getUint32(r,!0),dateTime:t.getUint32(r+4,!0),majorVersion:t.getUint16(r+8,!0),minorVersion:t.getUint16(r+10,!0)},a=t.getUint16(r+12,!0),s=t.getUint16(r+14,!0);r+=16;for(var f=0;f<a;++f){var u=0x7fffffff&t.getUint32(r,!0),c=t.getUint32(r+4,!0);if(!(0x80000000&c)){r+=8;continue}c&=0x7fffffff;var l=K(t,u);q(t,o,l,c,i),r+=8}for(var f=0;f<s;++f){var p=0x7fffffff&t.getUint32(r,!0),c=t.getUint32(r+4,!0);if(!(0x80000000&c)){r+=8;continue}q(t,o,p,c&=0x7fffffff,i),r+=8}}function J(t,e,n){var i={},r={};n.forEach(function(t){"string"==typeof t.lang?(i[t.lang]=t,e.push(t.lang)):r[t.lang]=t});var o=Object.keys(i);o.sort().forEach(function(e){t.s.push(i[e])});var a=Object.keys(r);return a.map(function(t){return Number(t)}).sort(function(t,e){return t-e}).forEach(function(e){t.n.push(r[e])}),16+8*(o.length+a.length)}function Q(t,e,n){var i={},r={};return n.forEach(function(t){var n,o;if("string"==typeof t.id){var a=null!=(n=i[t.id])?n:i[t.id]=[];e.push(t.id),a.push(t)}else{var a=null!=(o=r[t.id])?o:r[t.id]=[];a.push(t)}}),16+Object.keys(i).sort().map(function(n){var r={id:n,s:[],n:[]};return t.s.push(r),J(r,e,i[n])}).reduce(function(t,e){return t+8+e},0)+Object.keys(r).map(function(t){return Number(t)}).sort(function(t,e){return t-e}).map(function(n){var i={id:n,s:[],n:[]};return t.n.push(i),J(i,e,r[n])}).reduce(function(t,e){return t+8+e},0)}function Y(t){var e=t.length;return e>65535?65535:e}function Z(t,e){for(var n=e.length,i=0;i<n;++i){var r=e[i];if(r.text===t)return r.offset}throw Error("Unexpected")}function $(t,e,n,i){return t.setUint32(e,0,!0),t.setUint32(e+4,0,!0),t.setUint32(e+8,0,!0),t.setUint16(e+12,i.s.length,!0),t.setUint16(e+14,i.n.length,!0),e+=16,i.s.forEach(function(i){var r=Z(i.lang,n);t.setUint32(e,r,!0),t.setUint32(e+4,i.offset,!0),e+=8}),i.n.forEach(function(n){t.setUint32(e,n.lang,!0),t.setUint32(e+4,n.offset,!0),e+=8}),e}function tt(t,e,n,i,r){return t.setUint32(e,0,!0),t.setUint32(e+4,0,!0),t.setUint32(e+8,0,!0),t.setUint16(e+12,r.s.length,!0),t.setUint16(e+14,r.n.length,!0),e+=16,r.s.forEach(function(e){e.offset=n,n=$(t,n,i,e)}),r.n.forEach(function(e){e.offset=n,n=$(t,n,i,e)}),r.s.forEach(function(n){var r=Z(n.id,i);t.setUint32(e,r+0x80000000,!0),t.setUint32(e+4,n.offset+0x80000000,!0),e+=8}),r.n.forEach(function(n){t.setUint32(e,n.id,!0),t.setUint32(e+4,n.offset+0x80000000,!0),e+=8}),n}let te=function(){function t(){this.dateTime=0,this.majorVersion=0,this.minorVersion=0,this.entries=[],this.sectionDataHeader=null,this.originalSize=0}return t.prototype.parse=function(t,e){if(t.data){var n=new DataView(t.data);this.dateTime=n.getUint32(4,!0),this.majorVersion=n.getUint16(8,!0),this.minorVersion=n.getUint16(10,!0);for(var i=n.getUint16(12,!0),r=n.getUint16(14,!0),o=16,a=[],s=function(i,r,o){var s=n.getUint32(o.dataOffset,!0)-t.info.virtualAddress,f=n.getUint32(o.dataOffset+4,!0),u=n.getUint32(o.dataOffset+8,!0);if(s>=0){var c=new Uint8Array(f);c.set(new Uint8Array(t.data,s,f)),a.push({type:i.type,id:r.name,lang:o.lang,codepage:u,bin:c.buffer})}else{if(!e)throw Error("Cannot parse resource directory entry; RVA seems to be invalid.");a.push({type:i.type,id:r.name,lang:o.lang,codepage:u,bin:new ArrayBuffer(0),rva:o.dataOffset})}},f=0;f<i;++f){var u=0x7fffffff&n.getUint32(o,!0),c=n.getUint32(o+4,!0);if(!(0x80000000&c)){o+=8;continue}c&=0x7fffffff;var l=K(n,u);X(n,l,c,s),o+=8}for(var f=0;f<r;++f){var p=0x7fffffff&n.getUint32(o,!0),c=n.getUint32(o+4,!0);if(!(0x80000000&c)){o+=8;continue}X(n,p,c&=0x7fffffff,s),o+=8}this.entries=a,this.originalSize=t.data.byteLength}},t.from=function(e,n){void 0===n&&(n=!1);var i=[].concat(e.getAllSections()).sort(function(t,e){return t.info.virtualAddress-e.info.virtualAddress}),r=e.getSectionByEntry(b.Resource);if(r){for(var o=e.getSectionByEntry(b.BaseRelocation),a=0;a<i.length;++a)if(i[a]===r){for(var s=a+1;s<i.length;++s)if(!o||i[s]!==o)throw Error("After Resource section, sections except for relocation are not supported");break}}var f=new t;return f.sectionDataHeader=r?m(r.info):null,r&&f.parse(r,n),f},t.prototype.replaceResourceEntry=function(t){for(var e=this.entries.length,n=0;n<e;++n){var i=this.entries[n];if(i.type===t.type&&i.id===t.id&&i.lang===t.lang){this.entries[n]=t;return}}this.entries.push(t)},t.prototype.getResourceEntriesAsString=function(t,e){return this.entries.filter(function(n){return n.type===t&&n.id===e}).map(function(t){return[t.lang,function(t){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(t);if(void 0!==w){var e=void 0;return("buffer"in t?w.from(t.buffer,t.byteOffset,t.byteLength):w.from(t)).toString("utf8")}var n=void 0;if(n="buffer"in t?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t),"undefined"!=typeof decodeURIComponent){for(var i="",r=0;r<n.length;++r){var o=n[r];o<16?i+="%0"+o.toString(16):i+="%"+o.toString(16)}return decodeURIComponent(i)}for(var i="",r=0;r<n.length;++r){var o=n[r];i+=String.fromCharCode(o)}return i}(t.bin)]})},t.prototype.replaceResourceEntryFromString=function(t,e,n,i){var r={type:t,id:e,lang:n,codepage:1200,bin:function(t){if("undefined"!=typeof TextEncoder)return I(new TextEncoder().encode(t));if(void 0!==w)return I(w.from(t,"utf8"));if("undefined"!=typeof encodeURIComponent){for(var e=encodeURIComponent(t),n=0,i=0;i<e.length;++n){var r=e.charCodeAt(i);37===r?i+=3:++i}for(var o=new ArrayBuffer(n),a=new Uint8Array(o),i=0,s=0;i<e.length;++s){var r=e.charCodeAt(i);if(37===r){var f=parseInt(e.substring(i+1,i+3),16);a[s]=f,i+=3}else a[s]=r,++i}return o}var o=new ArrayBuffer(t.length);return new Uint8Array(o).set([].map.call(t,function(t){return t.charCodeAt(0)})),o}(i)};this.replaceResourceEntry(r)},t.prototype.removeResourceEntry=function(t,e,n){this.entries=this.entries.filter(function(i){return i.type!==t||i.id!==e||void 0!==n&&i.lang!==n})},t.prototype.generateResourceData=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r,o,a,s,f,u,c={s:[],n:[]},l=[],p=(r=l,o=this.entries,a={},s={},o.forEach(function(t){var e,n;if("string"==typeof t.type){var i=null!=(e=a[t.type])?e:a[t.type]=[];r.push(t.type),i.push(t)}else{var i=null!=(n=s[t.type])?n:s[t.type]=[];i.push(t)}}),16+Object.keys(a).sort().map(function(t){var e={type:t,s:[],n:[]};return c.s.push(e),Q(e,r,a[t])}).reduce(function(t,e){return t+8+e},0)+Object.keys(s).map(function(t){return Number(t)}).sort(function(t,e){return t-e}).map(function(t){var e={type:t,s:[],n:[]};return c.n.push(e),Q(e,r,s[t])}).reduce(function(t,e){return t+8+e},0));l=l.reduce(function(t,e){return t.indexOf(e)>=0?t:t.concat(e)},[]);var h=p;p+=l.reduce(function(t,e){return t+2+2*Y(e)},0);var g=p=A(p,8),d=p=this.entries.reduce(function(t,e){return e.offset=t,t+16},g);p=this.entries.reduce(function(t,e){return A(t,8)+e.bin.byteLength},d);var v=A(p,e),y=A(this.originalSize,e);if(n&&v>y)throw Error("New resource data is larger than original");!i&&v<y&&(v=y);var b=new ArrayBuffer(v),w=new DataView(b),m=g,U=t+d;this.entries.forEach(function(t){var e=t.bin.byteLength;void 0!==t.rva?w.setUint32(m,t.rva,!0):(U=A(U,8),w.setUint32(m,U,!0),U+=e),w.setUint32(m+4,e,!0),w.setUint32(m+8,t.codepage,!0),w.setUint32(m+12,0,!0),m+=16}),m=d,this.entries.forEach(function(t){var e=t.bin.byteLength;D(b,m,t.bin,0,e),m+=A(e,8)});var O=[];if(m=h,l.forEach(function(t){O.push({offset:m,text:t}),m=function(t,e,n){var i=Y(n);t.setUint16(e,i,!0),e+=2;for(var r=0;r<i;++r)t.setUint16(e,n.charCodeAt(r),!0),e+=2;return e}(w,m,t)}),f=0,w.setUint32(f,0,!0),w.setUint32(f+4,0,!0),w.setUint32(f+8,0,!0),w.setUint16(f+12,c.s.length,!0),w.setUint16(f+14,c.n.length,!0),u=(f+=16)+8*(c.s.length+c.n.length),c.s.forEach(function(t){t.offset=u,u+=16+8*(t.s.length+t.n.length)}),c.n.forEach(function(t){t.offset=u,u+=16+8*(t.s.length+t.n.length)}),c.s.forEach(function(t){var e=Z(t.type,O);w.setUint32(f,e+0x80000000,!0),w.setUint32(f+4,t.offset+0x80000000,!0),f+=8,u=tt(w,t.offset,u,O,t)}),c.n.forEach(function(t){w.setUint32(f,t.type,!0),w.setUint32(f+4,t.offset+0x80000000,!0),f+=8,u=tt(w,t.offset,u,O,t)}),v>p)for(var S=p,I=0;S<v;++S,++I)8===I&&(I=0),w.setUint8(S,"PADDINGX".charCodeAt(I));return{bin:b,rawSize:p,dataOffset:d,descEntryOffset:g,descEntryCount:this.entries.length}},t.prototype.outputResource=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i,r=t.getFileAlignment();i=this.sectionDataHeader?{data:null,info:m(this.sectionDataHeader)}:{data:null,info:{name:".rsrc",virtualSize:0,virtualAddress:0,sizeOfRawData:0,pointerToRawData:0,pointerToRelocations:0,pointerToLineNumbers:0,numberOfRelocations:0,numberOfLineNumbers:0,characteristics:0x40000040}};var o=this.generateResourceData(0,r,e,n);i.data=o.bin,i.info.sizeOfRawData=o.bin.byteLength,i.info.virtualSize=o.rawSize,t.setSectionByEntry(b.Resource,i);for(var a=t.getSectionByEntry(b.Resource),s=new DataView(a.data),f=o.descEntryOffset,u=a.info.virtualAddress+o.dataOffset,c=0;c<o.descEntryCount;++c){var l=s.getUint32(f+4,!0);u=A(u,8),s.setUint32(f,u,!0),u+=l,f+=16}},t}();function tn(t){return _.from(t)}function ti(t,e){return B.from(t,e.newHeaderAddress)}function tr(t,e,n){return N.from(t,n.fileHeader.numberOfSections,e.newHeaderAddress+n.byteLength)}function to(t,e,n,i){for(var r=N.from(t,n.fileHeader.numberOfSections,e.newHeaderAddress+n.byteLength),o=r.length,a=n.optionalHeaderDataDirectory.get(i).virtualAddress,s=0;s<o;++s){var f=r.get(s),u=f.virtualAddress+f.virtualSize;if(a>=f.virtualAddress&&a<u){var c=f.pointerToRawData;if(!c)return null;return t.slice(c,c+f.sizeOfRawData)}if(a<f.virtualAddress)break}return null}let ta="2.0.3";function ts(t,e,n){if(!("buffer"in t))return new DataView(t,e,n);var i=t.byteOffset,r=t.byteLength;return void 0!==e&&(i+=e,r-=e),void 0!==n&&(r=n),new DataView(t.buffer,i,r)}function tf(t,e){return Math.floor((t+e-1)/e)*e}function tu(t,e,n,i,r){var o="buffer"in t?new Uint8Array(t.buffer,t.byteOffset+(e||0),r):new Uint8Array(t,e,r),a="buffer"in n?new Uint8Array(n.buffer,n.byteOffset+(i||0),r):new Uint8Array(n,i,r);o.set(a)}function tc(t,e,n){var i=new ArrayBuffer(n);return tu(i,0,t,e,n),i}n(82909).Buffer;function tl(t,e,n){return e+4<=n?t.getInt32(e,!0):0}function tp(t,e,n){return e<n?t.getUint8(e):0}function th(t,e,n){return e+2<=n?t.getUint16(e,!0):0}function tg(t,e,n){return e+4<=n?t.getUint32(e,!0):0}function td(t,e){return tf(Math.abs(t),32)/8*Math.abs(e)}let tv=function(){function t(t,e,n,i,r){var o=ts(n,i,r),a=o.byteLength,s=o.getUint32(0,!0);s>a&&(s=a);var f=tg(o,20,s),u={width:tl(o,4,s),height:tl(o,8,s),planes:th(o,12,s),bitCount:th(o,14,s),compression:tg(o,16,s),sizeImage:f,xPelsPerMeter:tl(o,24,s),yPelsPerMeter:tl(o,28,s),colorUsed:tg(o,32,s),colorImportant:tg(o,36,s),colors:[]},c=40,l=u.colorUsed;if(!l)switch(u.bitCount){case 1:l=2;break;case 4:l=16;break;case 8:l=256}for(var p=0;p<l;++p)u.colors.push({b:tp(o,c,a),g:tp(o,c+1,a),r:tp(o,c+2,a)}),c+=4;this.width=t,this.height=e,this.bitmapInfo=u;var h=tf(u.bitCount*Math.abs(u.width),32)/8,g=Math.abs(u.height)/2,d=0!==u.compression&&0!==f?f:h*g;if(d+c>a)throw Error("Unexpected bitmap data in icon: bitmap size ".concat(d," is larger than ").concat(a," - ").concat(c));this._pixels=tc(o,c,d),c+=d;var v=td(u.width,g);v+c<=a?this.masks=tc(o,c,v):this.masks=new ArrayBuffer(v)}return Object.defineProperty(t.prototype,"pixels",{get:function(){return this._pixels},set:function(t){this._pixels=t,0!==this.bitmapInfo.sizeImage&&(this.bitmapInfo.sizeImage=t.byteLength)},enumerable:!1,configurable:!0}),t.from=function(e,n,i,r,o){var a,s,f;return"object"==typeof i?(a=e,s=n,f=i):(a=null,s=null,f=e,r=n,o=i),new t(a,s,f,r,o)},t.prototype.isIcon=function(){return!0},t.prototype.isRaw=function(){return!1},t.prototype.generate=function(){var t=this.bitmapInfo,e=Math.abs(t.width),n=tf(t.bitCount*e,32)/8,i=Math.abs(t.height)/2,r=n*i,o=td(t.width,i),a=t.colors.length,s=new ArrayBuffer(40+4*a+r+o),f=new DataView(s);f.setUint32(0,40,!0),f.setInt32(4,t.width,!0),f.setInt32(8,t.height,!0),f.setUint16(12,t.planes,!0),f.setUint16(14,t.bitCount,!0),f.setUint32(16,t.compression,!0),f.setUint32(20,t.sizeImage,!0),f.setInt32(24,t.xPelsPerMeter,!0),f.setInt32(28,t.yPelsPerMeter,!0),f.setUint32(32,t.colorUsed,!0),f.setUint32(36,t.colorImportant>a?a:t.colorImportant,!0);var u=40;return t.colors.forEach(function(t){f.setUint8(u,t.b),f.setUint8(u+1,t.g),f.setUint8(u+2,t.r),u+=4}),tu(s,u,this.pixels,0,r),tu(s,u+r,this.masks,0,o),s},t}(),ty=function(){function t(t,e,n,i,r,o){this.width=e,this.height=n,this.bitCount=i,"number"!=typeof r?(r=0,o=t.byteLength):"number"!=typeof o&&(o=t.byteLength-r),this.bin=tc(t,r,o)}return t.from=function(e,n,i,r,o,a){return new t(e,n,i,r,o,a)},t.prototype.isIcon=function(){return!1},t.prototype.isRaw=function(){return!0},t}(),tb=function(){function t(t){if(!t){this.icons=[];return}var e=ts(t),n=e.byteLength,i=[];if(1===e.getUint16(2,!0))for(var r=e.getUint16(4,!0),o=6,a=0;a<r;++a){var s=tg(e,o+8,n),f=tg(e,o+12,n),u=tp(e,o,n),c=tp(e,o+1,n),l=tp(e,o+6,n),p=void 0;p=40===e.getUint32(f,!0)?tv.from(u,c,t,f,s):ty.from(t,u||256,c||256,l,f,s),i.push({width:u,height:c,colors:tp(e,o+2,n),planes:th(e,o+4,n),bitCount:l,data:p}),o+=16}this.icons=i}return t.from=function(e){return new t(e)},t.prototype.generate=function(){var t,e,n,i,r,o;return(e=(t=this.icons).length)>65535&&(e=65535),(r=new DataView(i=new ArrayBuffer((n=t.map(function(t){return t.data.isIcon()?{item:t,bin:t.data.generate(),offset:0}:{item:t,bin:t.data.bin,offset:0}})).reduce(function(t,e){return e.offset=t,t+e.bin.byteLength},6+16*e)))).setUint16(0,0,!0),r.setUint16(2,1,!0),r.setUint16(4,e,!0),o=6,n.forEach(function(t){var e,n,a,s,f,u=t.item;if(u.data.isIcon()){var c=u.data.bitmapInfo;e=void 0!==u.width?u.width:Math.abs(c.width),n=void 0!==u.height?u.height:Math.abs(c.height/2),a=void 0!==u.colors?u.colors:c.colorUsed||c.colors.length,s=void 0!==u.planes?u.planes:c.planes,f=void 0!==u.bitCount?u.bitCount:c.bitCount}else e=void 0!==u.width?u.width:Math.abs(u.data.width),n=void 0!==u.height?u.height:Math.abs(u.data.height),a=void 0!==u.colors?u.colors:0,s=void 0!==u.planes?u.planes:1,f=void 0!==u.bitCount?u.bitCount:u.data.bitCount;var l=t.bin.byteLength;r.setUint8(o,e>=256?0:e),r.setUint8(o+1,n>=256?0:n),r.setUint8(o+2,a>=256?0:a),r.setUint8(o+3,0),r.setUint16(o+4,s,!0),r.setUint16(o+6,f,!0),r.setUint32(o+8,l,!0),r.setUint32(o+12,t.offset,!0),o+=16,tu(i,t.offset,t.bin,0,l)}),i},t}();function tw(t){var e=t.length;e>65535&&(e=65535);var n=new ArrayBuffer(6+14*t.length),i=new DataView(n);i.setUint16(0,0,!0),i.setUint16(2,1,!0),i.setUint16(4,e,!0);var r=6;return t.forEach(function(t){i.setUint8(r,t.width>=256?0:t.width),i.setUint8(r+1,t.height>=256?0:t.height),i.setUint8(r+2,t.colors>=256?0:t.colors),i.setUint8(r+3,0),i.setUint16(r+4,t.planes,!0),i.setUint16(r+6,t.bitCount,!0),i.setUint32(r+8,t.dataSize,!0),i.setUint16(r+12,t.iconID,!0),r+=14}),n}let tm=function(){function t(t){var e=new DataView(t.bin),n=e.byteLength,i=[];if(1===e.getUint16(2,!0))for(var r=e.getUint16(4,!0),o=6,a=0;a<r;++a)i.push({width:tp(e,o,n),height:tp(e,o+1,n),colors:tp(e,o+2,n),planes:th(e,o+4,n),bitCount:th(e,o+6,n),dataSize:tg(e,o+8,n),iconID:th(e,o+12,n)}),o+=14;this.id=t.id,this.lang=t.lang,this.icons=i}return t.fromEntries=function(e){return e.filter(function(t){return 14===t.type}).map(function(e){return new t(e)})},t.prototype.generateEntry=function(){var t=tw(this.icons);return{type:14,id:this.id,lang:this.lang,codepage:0,bin:t}},t.prototype.getIconItemsFromEntries=function(t){var e=this;return t.map(function(t){if(3!==t.type||t.lang!==e.lang)return null;var n=e.icons.filter(function(e){return t.id===e.iconID}).shift();return n?{entry:t,icon:n}:null}).filter(function(t){return!!t}).map(function(t){var e=t.entry.bin;if(40===new DataView(e).getUint32(0,!0))return tv.from(e);var n=t.icon;return ty.from(e,n.width,n.height,n.bitCount)})},t.replaceIconsForResource=function(e,n,i,r){var o,a=e.filter(function(t){return 14===t.type&&t.id===n&&t.lang===i}).shift(),s=r.map(function(t){if(!t.isIcon())return{base:t,bm:{width:t.width,height:t.height,planes:1,bitCount:t.bitCount},bin:t.bin,id:0};var e=t.width,n=t.height;return null===e&&(e=t.bitmapInfo.width),null===n&&(n=t.bitmapInfo.height,null!==t.masks&&(n=Math.floor(n/2))),{base:t,bm:{width:e,height:n,planes:t.bitmapInfo.planes,bitCount:t.bitmapInfo.bitCount},bin:t.generate(),id:0}});if(a)for(var f=e.length-1;f>=0;--f){var u=e[f];null!=u&&3===u.type&&!function(e,n,i){return n.some(function(n){return 14===n.type&&(n.id!==i.id||n.lang!==i.lang)&&new t(n).icons.some(function(t){return t.iconID===e.id})})}(u,e,a)&&e.splice(f,1)}else a={type:14,id:n,lang:i,codepage:0,bin:null},e.push(a);s.forEach(function(t){(null==o?void 0:o.last)?++o.id:o=function(t,e,n){for(var i=n?1:3,r=t.filter(function(t){return t.type===i&&t.lang===e&&"number"==typeof t.id}).map(function(t){return t.id}).sort(function(t,e){return t-e}),o=1,a=0;a<r.length;a++){var s=r[a];if(o<s)return{id:o,last:!1};o===s&&++o}return{id:o,last:!0}}(e,i,!1),e.push({type:3,id:o.id,lang:i,codepage:0,bin:t.bin}),t.id=o.id});var c=tw(s.map(function(t){var e=Math.abs(t.bm.width);e>=256&&(e=0);var n=Math.abs(t.bm.height);n>=256&&(n=0);var i=0;if(t.base.isIcon()){var r=t.base.bitmapInfo;if(!(i=r.colorUsed||r.colors.length))switch(r.bitCount){case 1:i=2;break;case 4:i=16}i>=256&&(i=0)}return{width:e,height:n,colors:i,planes:t.bm.planes,bitCount:t.bm.bitCount,dataSize:t.bin.byteLength,iconID:t.id}}));a.bin=c},t}();var tU=function(){function t(){this.length=16,this._a=[],this._a.length=16;for(var t=0;t<16;++t)this._a[t]=""}return t.fromEntry=function(e,n,i){for(var r=new DataView(e,n,i),o=new t,a=0,s=0;s<16;++s){var f=r.getUint16(a,!0);a+=2;for(var u="",c=0;c<f;++c)u+=String.fromCharCode(r.getUint16(a,!0)),a+=2;o._a[s]=u}return o},t.prototype.get=function(t){var e=this._a[t];return null!=e&&""!==e?e:null},t.prototype.getAll=function(){return this._a.map(function(t){return t||null})},t.prototype.set=function(t,e){this._a[t]="".concat(null!=e?e:"").substr(0,4097)},t.prototype.calcByteLength=function(){for(var t=0,e=0;e<16;++e){var n=this._a[e];t+=2,null!=n&&(t+=2*n.length)}return 16*Math.floor((t+15)/16)},t.prototype.generate=function(t,e){for(var n=new DataView(t,e),i=0,r=0;r<16;++r){var o=this._a[r],a=null==o?0:o.length>4097?4097:o.length;if(n.setUint16(i,a,!0),i+=2,null!=o)for(var s=0;s<a;++s)n.setUint16(i,o.charCodeAt(s),!0),i+=2}return 16*Math.floor((i+15)/16)},t}();let tO=function(){function t(){this.lang=0,this.items=[]}return t.fromEntries=function(e,n){var i=new t;return n.forEach(function(t){6!==t.type||t.lang!==e||"number"!=typeof t.id||t.id<=0||(i.items[t.id-1]=tU.fromEntry(t.bin,0,t.bin.byteLength))}),i.lang=e,i},t.prototype.getAllStrings=function(){return this.items.map(function(t,e){return t.getAll().map(function(t,n){return null!==t&&""!==t?{id:(e<<4)+n,text:t}:null}).filter(function(t){return!!t})}).reduce(function(t,e){return t.concat(e)},[])},t.prototype.getById=function(t){if(t<0)return null;var e,n=this.items[t>>4];return null!=(e=null==n?void 0:n.get(15&t))?e:null},t.prototype.setById=function(t,e){if(!(t<0)){var n=t>>4,i=this.items[n];i||(this.items[n]=i=new tU),i.set(15&t,e)}},t.prototype.generateEntries=function(){var t=this;return this.items.map(function(e,n){var i=new ArrayBuffer(e.calcByteLength());return e.generate(i,0),{type:6,id:n+1,lang:t.lang,codepage:1200,bin:i}}).filter(function(t){return!!t})},t.prototype.replaceStringEntriesForExecutable=function(t){for(var e=this.generateEntries(),n=t.entries,i=0;i<n.length;++i){var r=n[i];if(null!=r&&6===r.type&&r.lang===this.lang){for(var o=n.length-1;o>=i;--o){var a=n[o];null!=a&&6===a.type&&a.lang===this.lang&&n.splice(o,1)}var s=n.splice.bind(n,i,0);s.apply(void 0,e);return}}for(var i=0;i<n.length;++i){var r=n[i];if(null!=r&&6===r.type&&r.lang<this.lang){var s=n.splice.bind(n,i+1,0);s.apply(void 0,e);return}}for(var i=n.length-1;i>=0;--i){var r=n[i];if(null!=r&&6===r.type){var s=n.splice.bind(n,i+1,0);s.apply(void 0,e);return}}n.push.apply(n,e)},t}();!function(t){t[t.Debug=1]="Debug",t[t.Prerelease=2]="Prerelease",t[t.Patched=4]="Patched",t[t.PrivateBuild=8]="PrivateBuild",t[t.InfoInferred=16]="InfoInferred",t[t.SpecialBuild=32]="SpecialBuild"}(r||(r={}));let tA=r;!function(t){t[t.Unknown=0]="Unknown",t[t._Windows16=1]="_Windows16",t[t._PM16=2]="_PM16",t[t._PM32=3]="_PM32",t[t._Windows32=4]="_Windows32",t[t.DOS=65536]="DOS",t[t.OS2_16=131072]="OS2_16",t[t.OS2_32=196608]="OS2_32",t[t.NT=262144]="NT",t[t.DOS_Windows16=65537]="DOS_Windows16",t[t.DOS_Windows32=65540]="DOS_Windows32",t[t.NT_Windows32=262148]="NT_Windows32",t[t.OS2_16_PM16=131074]="OS2_16_PM16",t[t.OS2_32_PM32=196611]="OS2_32_PM32"}(o||(o={}));let tD=o;!function(t){t[t.Unknown=0]="Unknown",t[t.Printer=1]="Printer",t[t.Keyboard=2]="Keyboard",t[t.Language=3]="Language",t[t.Display=4]="Display",t[t.Mouse=5]="Mouse",t[t.Network=6]="Network",t[t.System=7]="System",t[t.Installable=8]="Installable",t[t.Sound=9]="Sound",t[t.Comm=10]="Comm",t[t.VersionedPrinter=12]="VersionedPrinter"}(a||(a={})),function(t){t[t.Unknown=0]="Unknown",t[t.Raster=1]="Raster",t[t.Vector=2]="Vector",t[t.TrueType=3]="TrueType"}(s||(s={})),function(t){t[t.Unknown=0]="Unknown",t[t.App=1]="App",t[t.DLL=2]="DLL",t[t.Driver=3]="Driver",t[t.Font=4]="Font",t[t.VxD=5]="VxD",t[t.StaticLibrary=7]="StaticLibrary"}(f||(f={}));let tS=f;function tI(t,e,n){for(var i="";e+2<=n;){var r=t.getUint16(e,!0);if(!r)break;i+=String.fromCharCode(r),e+=2}return i}function tE(t,e,n){for(var i=0;i<n.length;++i)t.setUint16(e,n.charCodeAt(i),!0),e+=2;return t.setUint16(e,0,!0),e+2}function t_(){return{fileVersionMS:0,fileVersionLS:0,productVersionMS:0,productVersionLS:0,fileFlagsMask:0,fileFlags:0,fileOS:0,fileType:0,fileSubtype:0,fileDateMS:0,fileDateLS:0}}function tP(t,e,n){return isNaN(t)||t<e?e:t>=n?n:Math.floor(t)}function tj(t,e,n,i,r){var o,a,s,f,u,c;return"string"==typeof t&&(void 0===e||"number"==typeof e)&&void 0===n?(a=(o=t.split(".").map(function(t){return tP(Number(t),0,65535)}).concat(0,0,0))[0],s=o[1],f=o[2],u=o[3],c=e):(a=tP(Number(t),0,65535),s=tP(Number(e),0,65535),f=tP(void 0===n?0:Number(n),0,65535),u=tP(void 0===i?0:Number(i),0,65535),c=r),[a,s,f,u,c]}let tz=function(){function t(t){if(t){var e=new DataView(t.bin);this.data=function(t,e){var n=t.getUint16(0,!0),i=t.getUint16(2,!0);if(0!==t.getUint16(4,!0)||n<i+40||"VS_VERSION_INFO"!==tI(t,6,n))throw Error("Invalid version data format");var r={lang:e.lang,fixedInfo:t_(),strings:[],translations:[],unknowns:[]},o=38;if(i){var a=tg(t,40,i+=40),s=tg(t,44,i);0xfeef04bd===a&&s<=65536&&(r.fixedInfo={fileVersionMS:tg(t,48,i),fileVersionLS:tg(t,52,i),productVersionMS:tg(t,56,i),productVersionLS:tg(t,60,i),fileFlagsMask:tg(t,64,i),fileFlags:tg(t,68,i),fileOS:tg(t,72,i),fileType:tg(t,76,i),fileSubtype:tg(t,80,i),fileDateMS:tg(t,84,i),fileDateLS:tg(t,88,i)}),o=i}for(o=tf(o,4);o<n;){var f=t.getUint16(o,!0),u=o+f;u>n&&(u=n);var c=tI(t,o+6,u);switch(c){case"StringFileInfo":r.strings=r.strings.concat(function(t,e,n){var i=t.getUint16(e+2,!0);e+=36,e+=tf(i,4);for(var r=[];e<n;)!function(){var i=function(t,e,n){var i=t.getUint16(e,!0),r=t.getUint16(e+2,!0);e+i<n&&(n=e+i);var o=tI(t,e+6,n);e+=tf(6+2*(o.length+1),4);var a=parseInt(o,16);if(isNaN(a))throw Error("Invalid StringTable data format");e+=tf(r,4);for(var s={lang:Math.floor(a/65536),codepage:65535&a,values:{}};e<n;){var f=t.getUint16(e,!0),u=t.getUint16(e+2,!0);if(1!==t.getUint16(e+4,!0)){e+=f;continue}var c=e+f;c>n&&(c=n);var l=tI(t,e+6,c),p=(e=tf(e+6+2*(l.length+1),4))+2*u;p>c&&(p=c);var h=tI(t,e,p);e=tf(p,4),s.values[l]=h}return[n,s]}(t,e,n),o=i[1],a=r.filter(function(t){return t.lang===o.lang&&t.codepage===o.codepage});if(0===a.length)r.push(o);else for(var s in o.values){var f=o.values[s];null!=f&&(a[0].values[s]=f)}e=tf(i[0],4)}();return r}(t,o,u));break;case"VarFileInfo":r.translations=r.translations.concat(function(t,e,n){var i=t.getUint16(e+2,!0);e+=32,e+=tf(i,4);for(var r=[];e<n;){var o=t.getUint16(e,!0),a=t.getUint16(e+2,!0);if(0!==t.getUint16(e+4,!0)){e+=tf(o,4);continue}var s=e+o;s>n&&(s=n);var f=tI(t,e+6,s);if(e=tf(e+6+2*(f.length+1),4),"Translation"!==f||a%4!=0){e=tf(s,4);continue}for(var u=0;u<a&&"break"!==function(n){if(e+4>s)return"break";var i=t.getUint16(e,!0),o=t.getUint16(e+2,!0);e+=4,0===r.filter(function(t){return t.lang===i&&t.codepage===o}).length&&r.push({lang:i,codepage:o})}(0);u+=4);e=tf(s,4)}return r}(t,o,u));break;default:r.unknowns.push({name:c,entireBin:tc(t,o,f)})}o+=tf(f,4)}return r}(e,t)}else this.data={lang:0,fixedInfo:t_(),strings:[],translations:[],unknowns:[]}}return t.createEmpty=function(){return new t},t.create=function(e,n,i){"object"==typeof e?(r=e.lang,n=e.fixedInfo,i=e.strings):r=e;var r,o=new t;for(var a in o.data.lang=r,n)if(a in n){var s=n[a];null!=s&&(o.data.fixedInfo[a]=s)}return o.data.strings=i.map(function(t){var e,n;return{lang:t.lang,codepage:t.codepage,values:(n={},Object.keys(e=t.values).forEach(function(t){n[t]=e[t]}),n)}}),o.data.translations=i.map(function(t){return{lang:t.lang,codepage:t.codepage}}),o},t.fromEntries=function(e){return e.filter(function(t){return 16===t.type}).map(function(e){return new t(e)})},Object.defineProperty(t.prototype,"lang",{get:function(){return this.data.lang},set:function(t){this.data.lang=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedInfo",{get:function(){return this.data.fixedInfo},enumerable:!1,configurable:!0}),t.prototype.getAvailableLanguages=function(){return this.data.translations.slice(0)},t.prototype.replaceAvailableLanguages=function(t){this.data.translations=t.slice(0)},t.prototype.getStringValues=function(t){var e=this.data.strings.filter(function(e){return e.lang===t.lang&&e.codepage===t.codepage}).map(function(t){return t.values});return e.length>0?e[0]:{}},t.prototype.getAllLanguagesForStringValues=function(){return this.data.strings.map(function(t){return{codepage:t.codepage,lang:t.lang}})},t.prototype.setStringValues=function(t,e,n){void 0===n&&(n=!0);var i,r=this.data.strings.filter(function(e){return e.lang===t.lang&&e.codepage===t.codepage});for(var o in 0===r.length?(i={lang:t.lang,codepage:t.codepage,values:{}},this.data.strings.push(i)):i=r[0],e){var a=e[o];null!=a&&(i.values[o]=a)}n&&0===this.data.translations.filter(function(e){return e.lang===t.lang&&e.codepage===t.codepage}).length&&this.data.translations.push({lang:t.lang,codepage:t.codepage})},t.prototype.setStringValue=function(t,e,n,i){var r;void 0===i&&(i=!0),this.setStringValues(t,((r={})[e]=n,r),i)},t.prototype.removeAllStringValues=function(t,e){void 0===e&&(e=!0);for(var n=this.data.strings,i=n.length,r=0;r<i;++r){var o=n[r];if(null!=o&&o.lang===t.lang&&o.codepage===t.codepage){if(n.splice(r,1),e)for(var a=this.data.translations,s=0;s<a.length;s++){var f=a[s];if(null!=f&&f.lang===t.lang&&f.codepage===t.codepage){a.splice(s,1);break}}break}}},t.prototype.removeStringValue=function(t,e,n){void 0===n&&(n=!0);for(var i=this.data.strings,r=i.length,o=0;o<r;++o){var a=i[o];if(null!=a&&a.lang===t.lang&&a.codepage===t.codepage){try{delete a.values[e]}catch(t){}if(n&&0===Object.keys(a.values).length){i.splice(o,1);for(var s=this.data.translations,f=0;f<s.length;f++){var u=s[f];if(null!=u&&u.lang===t.lang&&u.codepage===t.codepage){s.splice(f,1);break}}}break}}},t.prototype.generateResource=function(){var t,e,n,i,r,o,a,s,f,u,c,l,p,h,g,d,v,y,b,w,m,U=(e=92+(u=(o=new ArrayBuffer(i=36+(r=(n=(t=this.data).strings).map(function(t){return function(t){var e=24,n=Object.keys(t.values),i=new ArrayBuffer(e=n.reduce(function(e,n){var i=t.values[n];if(null==i)return e;var r=tf(6+2*(n.length+1),4),o=tf(e+r+2*(i.length+1),4);return o>65532?e:o},e)),r=new DataView(i);r.setUint16(0,e,!0),r.setUint16(2,0,!0),r.setUint16(4,1,!0);var o=((65535&t.lang)*65536+(65535&t.codepage)).toString(16).toLowerCase();if(o.length<8){var a=8-o.length;o="00000000".substr(0,a)+o}var s=tf(tE(r,6,o),4);return n.forEach(function(e){var n=t.values[e];if(null!=n){var i=tf(6+2*(e.length+1),4),o=tf(i+2*(n.length+1),4);s+o<=65532&&(r.setUint16(s,o,!0),r.setUint16(s+2,n.length+1,!0),r.setUint16(s+4,1,!0),s=tf(tE(r,s+6,e),4),s=tf(tE(r,s,n),4))}}),i}(t)})).reduce(function(t,e){return t+e.byteLength},0)),(a=new DataView(o)).setUint16(0,i,!0),a.setUint16(2,0,!0),a.setUint16(4,1,!0),s=tf(tE(a,6,"StringFileInfo"),4),r.forEach(function(t){var e=t.byteLength;tu(o,s,t,0,e),s+=e}),f=o).byteLength)+(y=((g=new DataView(h=new ArrayBuffer(l=32+(32+(p=4*(c=t.translations).length))))).setUint16(0,l,!0),g.setUint16(2,0,!0),g.setUint16(4,1,!0),d=tf(tE(g,6,"VarFileInfo"),4),g.setUint16(d,32+p,!0),g.setUint16(d+2,p,!0),g.setUint16(d+4,0,!0),d=tf(tE(g,d+6,"Translation"),4),c.forEach(function(t){g.setUint16(d,t.lang,!0),g.setUint16(d+2,t.codepage,!0),d+=4}),v=h).byteLength),(w=new DataView(b=new ArrayBuffer(e=t.unknowns.reduce(function(t,e){return t+tf(e.entireBin.byteLength,4)},e)))).setUint16(0,e,!0),w.setUint16(2,52,!0),w.setUint16(4,0,!0),m=tf(tE(w,6,"VS_VERSION_INFO"),4),w.setUint32(m,0xfeef04bd,!0),w.setUint32(m+4,65536,!0),w.setUint32(m+8,t.fixedInfo.fileVersionMS,!0),w.setUint32(m+12,t.fixedInfo.fileVersionLS,!0),w.setUint32(m+16,t.fixedInfo.productVersionMS,!0),w.setUint32(m+20,t.fixedInfo.productVersionLS,!0),w.setUint32(m+24,t.fixedInfo.fileFlagsMask,!0),w.setUint32(m+28,t.fixedInfo.fileFlags,!0),w.setUint32(m+32,t.fixedInfo.fileOS,!0),w.setUint32(m+36,t.fixedInfo.fileType,!0),w.setUint32(m+40,t.fixedInfo.fileSubtype,!0),w.setUint32(m+44,t.fixedInfo.fileDateMS,!0),w.setUint32(m+48,t.fixedInfo.fileDateLS,!0),tu(b,m+=52,f,0,u),tu(b,m+=u,v,0,y),m+=y,t.unknowns.forEach(function(t){var e=t.entireBin.byteLength;tu(b,m,t.entireBin,0,e),m+=tf(e,4)}),b);return{type:16,id:1,lang:this.lang,codepage:1200,bin:U}},t.prototype.outputToResourceEntries=function(t){for(var e=this.generateResource(),n=t.length,i=0;i<n;++i){var r=t[i];if(null!=r&&16===r.type&&r.id===e.id&&r.lang===e.lang){t[i]=e;return}}t.push(e)},t.prototype.getDefaultVersionLang=function(t){var e=Number(this.lang);if(""!==this.lang&&!isNaN(e))return e;var n=this.data.strings.filter(function(e){return t in e.values&&null!=e.values[t]}).map(function(t){return t.lang});return 1===n.length?n[0]:1033},t.prototype.setFileVersion=function(t,e,n,i,r){this.setFileVersionImpl.apply(this,tj(t,e,n,i,r))},t.prototype.setFileVersionImpl=function(t,e,n,i,r){r=void 0!==r?r:this.getDefaultVersionLang("FileVersion"),this.fixedInfo.fileVersionMS=t<<16|e,this.fixedInfo.fileVersionLS=n<<16|i,this.setStringValue({lang:r,codepage:1200},"FileVersion","".concat(t,".").concat(e,".").concat(n,".").concat(i),!0)},t.prototype.setProductVersion=function(t,e,n,i,r){this.setProductVersionImpl.apply(this,tj(t,e,n,i,r))},t.prototype.setProductVersionImpl=function(t,e,n,i,r){r=void 0!==r?r:this.getDefaultVersionLang("ProductVersion"),this.fixedInfo.productVersionMS=t<<16|e,this.fixedInfo.productVersionLS=n<<16|i,this.setStringValue({lang:r,codepage:1200},"ProductVersion","".concat(t,".").concat(e,".").concat(n,".").concat(i),!0)},t}();var tR=function(){function t(t){this.data=t}return t.prototype.toDER=function(){return[].slice.call(this.data)},t}();function tx(t){if(t<128)return[t];for(var e=[];e.push(255&t),!(t<256);)t>>=8;return e.push(128+e.length),e.reverse()}function tC(t){return t instanceof Array||(t=[].slice.call(t)),[4].concat(tx(t.length)).concat(t)}function tV(t,e){return[160+t].concat(tx(e.length)).concat(e)}function tT(t){return[48].concat(tx(t.length)).concat(t)}function tL(t){var e=t.reduce(function(t,e){return t.concat(e instanceof Array?e:e.toDER())},[]);return[49].concat(tx(e.length)).concat(e)}var tH=function(){function t(t){"string"==typeof t?this.value=t.split(/\./g).map(function(t){return Number(t)}):this.value=t}return t.prototype.toDER=function(){var t=this.value,e=[];if(t.length<2)throw Error("Unexpected 'value' field");e.push(40*t[0]+t[1]);for(var n=2;n<t.length;++n)for(var i=t[n],r=!0,o=e.length;;){var a=127&i;if(r||(a+=128),e.splice(o,0,a),i<128)break;r=!1,i=Math.floor(i/128)}return[6].concat(tx(e.length)).concat(e)},t}(),tk=new tH([1,3,14,3,2,26]),tB=new tH([2,16,840,1,101,3,4,2,1]),tM=new tH([2,16,840,1,101,3,4,2,2]),tN=new tH([2,16,840,1,101,3,4,2,3]),tF=new tH([2,16,840,1,101,3,4,2,4]),tG=new tH([2,16,840,1,101,3,4,2,5]),tW=new tH([2,16,840,1,101,3,4,2,6]),tK=new tH([2,16,840,1,101,3,4,2,7]),tq=new tH([2,16,840,1,101,3,4,2,8]),tX=new tH([2,16,840,1,101,3,4,2,9]),tJ=new tH([2,16,840,1,101,3,4,2,10]),tQ=new tH([2,16,840,1,101,3,4,2,11]),tY=new tH([2,16,840,1,101,3,4,2,12]),tZ=new tH([1,2,840,113549,1,1,1]),t$=new tH([1,2,840,10040,4,1]),t0=new tH([1,2,840,113549,1,7,2]),t1=new tH([1,2,840,113549,1,9,3]),t2=new tH([1,2,840,113549,1,9,4]),t6=new tH([1,3,6,1,4,1,311,2,1,11]),t3=new tH([1,3,6,1,4,1,311,2,1,12]),t4=new tH([1,3,6,1,4,1,311,2,1,21]),t8=new tH([1,3,6,1,4,1,311,3,3,1]);function t5(t){return"buffer"in t?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}function t7(t,e){var n=0,i=t[e];if(null==i)throw Error('Invalid "offset" value');if(i<128)n=i,++e;else if(128===i)throw Error("Not supported certificate data (variable length)");else{var r=127&i;for(++e;r--;){if(e>=t.length)throw Error("Invalid certificate data (invalid sequence length)");n<<=8,n|=t[e],++e}}return[n,e]}function t9(t,e){var n=t7(t,e+1),i=n[0];return n[1]+i}function et(t,e){if(t.length<e+2||48!==t[e])return null;if(s=(n=t7(t,e+1))[0],e=n[1],s>t.length-e)throw Error("Invalid certificate data (insufficient data length)");if(6!==t[e])return null;for(var n,i,r,o,a,s,f=t0.toDER(),u=0;u<f.length;++u)if(t[e+u]!==f[u])return null;if(160!==t[e+=f.length])throw Error("Invalid certificate data (no content in contentInfo)");if(s=(i=t7(t,e+1))[0],(e=i[1])+s>t.length)throw Error("Invalid certificate data (invalid length for content)");if(48!==t[e])throw Error("Invalid certificate data (unexpected signedData)");if(s=(r=t7(t,e+1))[0],(e=r[1])+s>t.length)throw Error("Invalid certificate data (invalid length for signedData)");if(2!==t[e]||1!==t[e+1]||1!==t[e+2])throw Error("Invalid certificate data (unexpected signedData.version)");if(49!==t[e+=3])throw Error("Invalid certificate data (no signedData.digestAlgorithms)");if(s=(o=t7(t,e+1))[0],(e=o[1])+s>t.length)throw Error("Invalid certificate data (invalid length for signedData.digestAlgorithms)");if(48!==t[e+=s])throw Error("Invalid certificate data (no signedData.contentInfo)");if(s=(a=t7(t,e+1))[0],(e=a[1])+s>t.length)throw Error("Invalid certificate data (invalid length for signedData.contentInfo)");if(160!==t[e+=s])throw Error("Invalid certificate data (no signedData.certificates)");var c=t7(t,e+1),l=c[0],p=c[1];if(p+l>t.length)throw Error("Invalid certificate data (invalid length for signedData.certificates)");return t.subarray(e,p+l)}var ee=function(){function t(t){this.algorithm=t}return t.prototype.toDER=function(){return tT(this.algorithm.toDER().concat([5,0]))},t}(),en=function(){function t(t,e){this.contentType=t,this.content=e}return t.prototype.toDER=function(){return tT(this.contentType.toDER().concat(tV(0,this.content.toDER())))},t}(),ei=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ei(e,t),e}(en),eo=function(){function t(t,e){this.digestAlgorithm=t,this.digest=e}return t.prototype.toDER=function(){var t,e=this.digest;return t="buffer"in e?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e),tT(this.digestAlgorithm.toDER().concat(tC(t)))},t}(),ea=function(){function t(t,e){this.issuer=t,this.serialNumber=e}return t.prototype.toDER=function(){return tT(this.issuer.toDER().concat(this.serialNumber.toDER()))},t}(),es=function(){function t(t,e,n,i,r,o){this.version=t,this.digestAlgorithms=e,this.contentInfo=n,this.signerInfos=i,this.certificates=r,this.crls=o}return t.prototype.toDER=function(){var t=[2,1,255&this.version].concat(tL(this.digestAlgorithms)).concat(this.contentInfo.toDER());if(this.certificates&&this.certificates.length>0){var e=tL(this.certificates);e[0]=160,t=t.concat(e)}return this.crls&&(t=t.concat(tV(1,tL(this.crls)))),tT(t=t.concat(tL(this.signerInfos)))},t}(),ef=function(){function t(t,e,n,i,r,o,a){this.version=t,this.issuerAndSerialNumber=e,this.digestAlgorithm=n,this.digestEncryptionAlgorithm=i,this.encryptedDigest=r,this.authenticatedAttributes=o,this.unauthenticatedAttributes=a}return t.prototype.toDER=function(){var t=[2,1,255&this.version].concat(this.issuerAndSerialNumber.toDER()).concat(this.digestAlgorithm.toDER());if(this.authenticatedAttributes&&this.authenticatedAttributes.length>0){var e=tL(this.authenticatedAttributes);e[0]=160,t=t.concat(e)}if(t=t.concat(this.digestEncryptionAlgorithm.toDER()).concat(tC(this.encryptedDigest)),this.unauthenticatedAttributes&&this.unauthenticatedAttributes.length>0){var n=tL(this.unauthenticatedAttributes);n[0]=161,t=t.concat(n)}return tT(t)},t}(),eu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ec=new tH([1,3,6,1,4,1,311,2,1,4]),el=function(){function t(t,e){this.type=t,this.value=e}return t.prototype.toDER=function(){return tT(this.type.toDER().concat(this.value.toDER()))},t}(),ep=function(){function t(t,e){this.data=t,this.messageDigest=e}return t.prototype.toDER=function(){return tT(this.toDERWithoutHeader())},t.prototype.toDERWithoutHeader=function(){return this.data.toDER().concat(this.messageDigest.toDER())},t}(),eh=function(t){function e(e){return t.call(this,ec,e)||this}return eu(e,t),e}(en),eg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ed=new tH([1,3,6,1,4,1,311,2,1,15]),ev=function(){function t(t,e){this.flags=t,this.file=e}return t.prototype.toDER=function(){return tT([3,1,255&this.flags].concat(tV(0,this.file.toDER())))},t}(),ey=function(t){function e(e){return t.call(this,ed,e)||this}return eg(e,t),e}(el),eb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ew=function(){function t(t,e){this.tag=t,this.value=e}return t.prototype.toDER=function(){var t=this.value.toDER();return 2===this.tag?tV(this.tag,t):(t[0]=128+this.tag,t)},t}();!function(t){eb(function(e){var n;return t.call(this,0,new tR([22].concat(tx((n=[].map.call(e,function(t){return t.charCodeAt(0)}).filter(function(t){return t<128})).length)).concat(n)))||this},t)}(ew);var em=function(t){function e(e){var n,i,r,o=(r=new DataView((i=new Uint8Array(2*(n=[].map.call(e,function(t){return t.charCodeAt(0)})).length)).buffer),n.forEach(function(t,e){r.setUint16(2*e,t,!1)}),[30].concat(tx(i.length)).concat([].slice.call(i)));return o[0]=128,t.call(this,2,new tR(o))||this}return eb(e,t),e}(ew),eU=function(){function t(t,e){this.attrType=t,this.attrValues=e}return t.prototype.toDER=function(){return tT(this.attrType.toDER().concat(tL(this.attrValues)))},t}(),eO=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(f){var u=[s,f];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&u[0]?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],i=0}finally{n=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}};function eA(t){var e=!1;return{next:function(){return e?{done:!0,value:void 0}:(e=!0,{done:!1,value:t})}}}function eD(t,e,n){if(!e.encryptData&&!e.signData)throw Error("Signer object must implement either `encryptData` or `signData`.");if("number"==typeof n){if(n<=0)throw Error("Invalid alignment value");r=n}else r=t.getFileAlignment();var i,r,o,a=function(t){if("string"!=typeof t)return new ee(new tH(t));switch(t){case"sha1":case"SHA1":return new ee(tk);case"sha256":case"SHA256":return new ee(tB);case"sha384":case"SHA384":return new ee(tM);case"sha512":case"SHA512":return new ee(tN);case"sha224":case"SHA224":return new ee(tF);case"sha512-224":case"SHA512-224":return new ee(tG);case"sha512-256":case"SHA512-256":return new ee(tW);case"sha3-224":case"SHA3-224":return new ee(tK);case"sha3-256":case"SHA3-256":return new ee(tq);case"sha3-384":case"SHA3-384":return new ee(tX);case"sha3-512":case"SHA3-512":return new ee(tJ);case"shake128":case"SHAKE128":return new ee(tQ);case"shake256":case"SHAKE256":return new ee(tY);default:throw Error("Invalid or unsupported digest algorithm")}}(e.getDigestAlgorithm()),s=e.getEncryptionAlgorithm();if("string"!=typeof s)o=new ee(new tH(s));else switch(s){case"rsa":case"RSA":o=new ee(tZ);break;case"dsa":case"DSA":o=new ee(t$);break;default:throw Error("Invalid or unsupported digest encryption algorithm")}var f=e.getCertificateData?e.getCertificateData():e.getPublicKeyData(),u=function t(e){if(Array.isArray(e)){if(0===e.length)throw Error("No data is specified.");return t(e[0])}var n,i,r,o,a,s=t5(e);if(s.length<2)throw Error("Invalid certificate data");if(48!==s[0])throw Error("Not supported certificate data (non-`Certificate`-format data)");var f=et(s,0);if(f){var u=t7(f,1),c=u[0],l=u[1];if(l+c>f.length)throw Error("Invalid certificate data (invalid length for signedData.certificates)");if(48!==f[l])throw Error("Invalid certificate data (no signedData.certificates[0])");var p=t7(f,l+1),h=p[0],g=p[1];if(g+h>f.length)throw Error("Invalid certificate data (invalid length for signedData.certificates[0])");return t(f.subarray(l,g+h))}if(r=(n=t7(s,1))[0],o=n[1],r>s.length-o)throw Error("Invalid certificate data (insufficient data length)");if(48!==s[o])throw Error("Invalid certificate data (missing tbsCertificate)");if(a=(i=t7(s,o+1))[0],o=i[1],a>s.length-o)throw Error("Invalid certificate data (invalid tbsCertificate length)");var d=o+a;if(160===s[o]&&(o=t9(s,o))>=d)throw Error("Invalid certificate data (insufficient tbsCertificate data: after version)");if(2!==s[o])throw Error("Invalid certificate data (invalid serialNumber)");var v=t9(s,o);if(o>=d)throw Error("Invalid certificate data (insufficient tbsCertificate data: after serialNumber)");var y=[].slice.call(s,o,v);if(48!==s[o=v])throw Error("Invalid certificate data (invalid algorithmIdentifier)");if((o=t9(s,o))>=d)throw Error("Invalid certificate data (insufficient tbsCertificate data: after serialNumber)");if(48!==s[o])throw Error("Invalid certificate data (invalid issuer)");var b=t9(s,o);if(b>d)throw Error("Invalid certificate data (insufficient tbsCertificate data: issuer)");return[[].slice.call(s,o,b),y]}(f),c=u[0],l=u[1];return(i=r,e.digestData(function(){var e,n,r,o,a,s,f,u,c,l,p,h,g,d;return eO(this,function(v){switch(v.label){case 0:return e=t.dosHeader.newHeaderAddress+88,n=t.dosHeader.newHeaderAddress+t.newHeader.getDataDirectoryOffset()+y.itemSize*b.Certificate,r=t.getRawHeader(),a=(o=t.getAllSections()).length,f=new ArrayBuffer(tf((s=r.byteLength)+a*N.itemSize,t.getFileAlignment())-s),u=N.from(f,a),o.forEach(function(t,e){u.set(e,t.info)}),[4,tc(r,0,e)];case 1:return v.sent(),[4,tc(r,e+4,n-(e+4))];case 2:return v.sent(),c=n+y.itemSize,[4,tc(t.getRawHeader(),c,t.getTotalHeaderSize()-c)];case 3:return v.sent(),[4,f];case 4:v.sent(),l=0,p=o,v.label=5;case 5:if(!(l<p.length))return[3,8];if(!(h=p[l]).data)return[3,7];return[4,h.data];case 6:v.sent(),v.label=7;case 7:return l++,[3,5];case 8:if(null===(g=t.getExtraData()))return[3,11];return[4,g];case 9:if(v.sent(),0==(d=tf(g.byteLength,i)-g.byteLength))return[3,11];return[4,new Uint8Array(d).buffer];case 10:v.sent(),v.label=11;case 11:return[2]}})}())).then(function(t){var n=new ep(new ey(new ev(0,new em(""))),new eo(a,t));return e.digestData(eA(new Uint8Array(n.toDERWithoutHeader()).buffer)).then(function(t){var i,r=[new eU(t3,[new tR([48,0])]),new eU(t1,[ec]),new eU(t6,[new tR(tT(t4.toDER()))]),new eU(t2,[new tR(tC(t5(t)))])];return(i=eA(new Uint8Array(tL(r)).buffer),e.signData?e.signData(i):e.digestData(i).then(function(t){var n=new Uint8Array(new eo(a,t).toDER()).buffer;return e.encryptData(eA(n))})).then(function(t){return[n,r,t]})})}).then(function(t){var n=t[0],i=t[1],r=t[2],s=new ef(1,new ea(new tR(c),new tR(l)),a,o,t5(r),i);return e.timestampData?e.digestData(eA(function(t){if("buffer"in t){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),e}var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}(r))).then(function(t){var i=new Uint8Array(tT([2,1,1].concat(tT(a.toDER().concat(tC(t5(t))))).concat([1,1,255]))).buffer;return e.timestampData(i).then(function(t){var e=function(t){var e,n,i,r,o,a,s,f,u=t5(t);if(u.length<2||48!==u[0])throw Error("Invalid or unexpected timestamp response");if(s=(e=t7(u,1))[0],f=e[1],s>u.length-f)throw Error("Invalid or unexpected timestamp response (insufficient buffer)");var c=f+s;if(48!==u[f])throw Error("Invalid or unexpected timestamp response (no PKIStatusInfo)");if(s=(n=t7(u,f+1))[0],(f=n[1])>=c)throw Error("Invalid or unexpected timestamp response (invalid length for PKIStatusInfo)");var l=f+s;if(2!==u[f]||1!==u[f+1])throw Error("Invalid or unexpected timestamp response (invalid PKIStatusInfo.status)");var p=u[f+2];switch(p){case 0:case 1:break;case 2:case 3:case 4:case 5:var h="Timestamp response has error status ".concat(p);throw f+3<l&&48===u[f+3]&&(s=(i=t7(u,f+4))[0],(f=i[1])+s<=l&&12===u[f]&&(s=(r=t7(u,f+1))[0],(f=r[1])+s<=l&&(h+=", text = "+decodeURIComponent([].slice.call(u,f,f+s).map(function(t){if(t>=32&&t<=126)return String.fromCharCode(t);var e=t.toString(16);return 1===e.length&&(e="0"+e),"%"+e}).join(""))))),Error(h);default:throw Error("Unexpected PKIStatusInfo.status: ".concat(null!=p?p:"(unknown)"))}if(l+1>=c||48!==u[l])throw Error("Invalid or unexpected timestamp response (no TimeStampToken)");if(s=(o=t7(u,l+1))[0],(f=o[1])+s>c)throw Error("Invalid or unexpected timestamp response (insufficient data for TimeStampToken)");var g=t0.toDER();if(6!==u[f])throw Error("Invalid or unexpected timestamp response (no contentType in TimeStampToken)");for(var d=0;d<g.length;++d)if(u[f+d]!==g[d])throw Error("Invalid or unexpected timestamp response (unexpected TimeStampToken.contentType octet)");if(160!==u[f+=g.length])throw Error("Invalid or unexpected timestamp response (no content in TimeStampToken)");if(s=(a=t7(u,f+1))[0],(f=a[1])+s>c)throw Error("Invalid or unexpected timestamp response (invalid length for TimeStampToken.content)");return tc(u,f,s)}(t);return s.unauthenticatedAttributes=[new eU(t8,[new en(t0,new tR(t5(e)))])],[n,s]})}):[n,s]}).then(function(t){var e=t[0],n=t[1],i=new Uint8Array(new er(t0,new es(1,[a],new eh(e),[n],function t(e){if(Array.isArray(e))return e.map(t).reduce(function(t,e){return t.concat(e)},[]);var n=t5(e),i=et(n,0);if(!i)return[new tR(n)];var r=t7(i,1),o=r[0],a=r[1];if(a+o>i.length)throw Error("Invalid certificate data (invalid length for signedData.certificates)");for(var s=a+o,f=[],u=a;u<s;){if(48!==i[u])throw Error("Invalid certificate data (no signedData.certificates[*])");var c=t7(i,u+1),l=c[0],p=c[1];if(p+l>i.length)throw Error("Invalid certificate data (invalid length for signedData.certificates[*])");f.push(new tR(i.subarray(u,p+l))),u=p+l}return f}(f))).toDER()),r=new ArrayBuffer(8+i.length),o=new DataView(r);return o.setUint32(0,i.length+8,!0),o.setUint16(4,512,!0),o.setUint16(6,2,!0),tu(r,8,i,0,i.byteLength),r}).then(function(e){var n=tf(e.byteLength,r),i=n,o=t.getExtraData();null!==o&&(i+=tf(o.byteLength,r)-o.byteLength);var a=t.generate(i),s=a.byteLength-n;return y.from(a,t.dosHeader.newHeaderAddress+t.newHeader.getDataDirectoryOffset()).set(b.Certificate,{size:n,virtualAddress:s}),O(a,!0),tu(a,s,e,0,e.byteLength),a})}}}]);