(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332],{16760:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(41854)}])},39654:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=r(14232);let i=e=>{let[t,r]=(0,n.useState)(!1),i=(0,n.useRef)(!1),o=(0,n.useCallback)(()=>{i.current||(i.current=!0,e().then(()=>r(!0)))},[e]);return t?{}:{onMouseOverCapture:o}}},41854:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>el});var n=r(37876),i=r(14232),o=r(55944),s=r(18847),a=r.n(s),l=r(81855);let c=a()(()=>r.e(6850,"high").then(r.bind(r,46850)),{loadableGenerated:{webpack:()=>[46850]}}),u=(0,i.memo)(()=>{let{processes:e={}}=(0,l.N)();return(0,n.jsx)(o.N,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(e).map(([e,{closing:t,Component:r,hasWindow:i}])=>e&&r&&!t&&(0,n.jsx)(c,{Component:r,hasWindow:i,id:e},e))})});var d=r(77232);let h=d.Ay.main.withConfig({componentId:"sc-ab1d5439-0"})(["background-color:transparent;contain:strict;height:100%;inset:0;overflow:clip;overscroll-behavior:none;position:fixed;width:100vw;#loading-status{background-color:#fff;border:1px solid #000;border-radius:8px;box-shadow:0 0 50px 1px #000;display:none;font-weight:600;left:50%;padding:12px 15px;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);user-select:none;}> canvas{background-color:inherit;height:100%;left:0;object-fit:cover;position:absolute;top:0;width:100%;z-index:-1;}"]);var f=r(79052),p=r(20067),m=r(65231),w=r(55295),g=r(96856),b=r(16361),v=r(60109);let x=[],k=e=>{let{exists:t,lstat:n,readFile:o,readdir:s,updateFolder:a,writeFile:l}=(0,m.f)(),{sessionLoaded:c,setWallpaper:u,wallpaperImage:h,wallpaperFit:k}=(0,w.w)(),{colors:y}=(0,d.DP)(),[E]=(0,i.useMemo)(()=>h.split(" "),[h]),S="VANTA WIREFRAME"===h,C=(0,g.A)(c?p.vJ[E]:void 0),j=(0,i.useRef)(0),$=(0,i.useRef)(!1),L=(0,i.useCallback)(t=>{e.current?.querySelector(p.sz)?.remove(),t||(e.current?.querySelector(p.j2)?.remove(),window.WallpaperDestroy?.()),"SLIDESHOW"!==E&&(document.documentElement.style.removeProperty("--after-background"),document.documentElement.style.removeProperty("--before-background"))},[e,E]),M=(0,i.useCallback)(async r=>{let n;if(!e.current||window.DEBUG_DISABLE_WALLPAPER)return;let{matches:i}=window.matchMedia("(prefers-reduced-motion: reduce)"),s=!window.top||window===window.top;if(!s)try{s=window.location.origin!==window.top?.location.origin}catch{s=!0}if("VANTA"===E)n={material:{options:{wireframe:S||!s}},waveSpeed:i?p.S7:1};else if(h.startsWith("MATRIX"))n={animationSpeed:i?p.S7:1,volumetric:h.endsWith("3D"),...s?{}:{fallSpeed:-.09,forwardSpeed:-.25}};else if("STABLE_DIFFUSION"===E){let e=`${b.zQ}/${b.sY}`;await t(e)&&(n={prompts:JSON.parse((await o(e))?.toString()||"[]")})}if(document.documentElement.style.setProperty("background",document.documentElement.style.background.replace(/".*"/,"")),L(r),!$.current&&"function"==typeof window.OffscreenCanvas&&C.current){let t={config:n,devicePixelRatio:1};if(r)C.current.postMessage(t);else{let r=(0,v.aH)(e.current);if(C.current.postMessage({canvas:r,...t},[r]),"STABLE_DIFFUSION"===E){let t=document.createElement("div");t.id="loading-status",e.current?.append(t),window.WallpaperDestroy=()=>{t.remove(),window.WallpaperDestroy=void 0},C.current.addEventListener("message",({data:e})=>{"[error]"===e.type?u(b.nQ):e.type?t.textContent=e.message||"":e.message||(j.current=window.setTimeout(()=>M(!0),b.S4*(window.STABLE_DIFFUSION_DELAY_IN_MIN_OVERRIDE??p.vS))),t.style.display=e.message?"block":"none"})}else C.current.addEventListener("message",({data:e})=>{"[error]"===e.type&&(e.message.includes("getContext")?($.current=!0,M()):u("SLIDESHOW"))})}}else if(p.cO[E]){let t=()=>u(E===b.nQ?"SLIDESHOW":b.nQ);p.cO[E]().then(({default:r})=>r?.(e.current,n,t)).catch(t)}else u(b.nQ)},[e,t,o,L,u,S,h,E,C]),I=(0,i.useCallback)(async e=>(await s(e)).reduce(async(t,r)=>{let i=(0,f.join)(e,r);return[...await t,...(await n(i)).isDirectory()?await I(i):[b.O4.has((0,v.uQ)(i))&&!b.q$.has((0,v.uQ)(i))?i:""]].filter(Boolean)},Promise.resolve([])),[s,n]),A=(0,i.useCallback)(async()=>{let[,n]=/url\((.*)\)/.exec(document.documentElement.style.getPropertyValue((0,v.r3)()?"--before-background":"--after-background"))||[];n=n?.replace(/\\/g,""),n?.startsWith("blob:")&&(0,v.E)(n),L();let i="",s="",c=k,d="SLIDESHOW"===E;if(d){let e=`${b.zQ}/${b.QM}`;await t(e)||(await l(e,JSON.stringify(await t(b.zQ)?await I(b.zQ):"[]")),a(b.zQ,b.QM)),0===x.length&&x.push(...[...new Set(JSON.parse((await o(e))?.toString()||"[]"))].sort(()=>Math.random()-.5));do{i=x.shift()||"";let[e]=x;e&&(document.querySelector(`#${p._T}`)?.remove(),(0,v.NN)(e.startsWith("/")?`${window.location.origin}${e}`:e,p._T,"auto")),i.startsWith("/")&&(i=`${window.location.origin}${i}`)}while(n===i&&x.length>1);c="fill"}else if("APOD"===E){let[,,e]=h.split(" "),[t,,r,,n]=new Intl.DateTimeFormat(b.Xn,{timeZone:"US/Eastern"}).formatToParts(Date.now()).map(({value:e})=>e);if(e===`${n}-${t}-${r}`)return;let{date:o="",hdurl:a="",url:l=""}=await (0,v.t_)("https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY");if(a||l){if(i=((0,v.e8)()>1024?a:l)||l,c="fit",(0,v.t$)(i)){let e=`https://i.ytimg.com/vi/${(0,v.IP)(i)}`;i=`${e}/maxresdefault.jpg`,s=`${e}/hqdefault.jpg`}else a&&l&&a!==l&&(s=i===l?a:l);let e=`APOD ${i} ${o}`;e!==h&&(u(e,c),setTimeout(M,b.il))}}else if(await t(h)){let e=await o(h),t=(0,v.uQ)(h);if(!b.T8.has(t)){let{decodeImageToBuffer:n}=await r.e(9868,"high").then(r.bind(r,97487)),i=await n(t,e);i&&(e=i)}i=(0,v.Zd)(e)}if(i)if(b.yH.has((0,v.uQ)(h))){let t=document.createElement("video");t.src=i,t.autoplay=!0,t.controls=!1,t.disablePictureInPicture=!0,t.disableRemotePlayback=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,t.style.position="absolute",t.style.inset="0",t.style.width="100%",t.style.height="100%",t.style.objectFit="cover",t.style.objectPosition="center center",t.style.zIndex="-1",e.current?.append(t)}else{let e=e=>{let t=p.gF[c];if(d)try{let{searchParams:r}=new URL(e),{x:n,y:i}=Object.fromEntries(r.entries());t=`${(0,v.Si)(n)} ${(0,v.Si)(i)} / cover`}catch{}let r="tile"===c?"repeat":"no-repeat",n=window===window.top,i=(0,v.r3)();document.documentElement.style.setProperty("--background-transition-timing",d?"1.25s":"0s"),document.documentElement.style.setProperty(`--${i?"after":"before"}-background`,`url(${CSS.escape(e)}) ${t} ${r} fixed border-box border-box ${n?y.background:y.text}`),document.documentElement.style.setProperty("--after-background-opacity",i?"1":"0"),document.documentElement.style.setProperty("--before-background-opacity",i?"0":"1"),n||document.documentElement.style.setProperty("--background-blend-mode","difference")};if(s){let t=new Image;t.addEventListener("load",()=>e(i)),t.addEventListener("error",()=>e(s)),t.decoding="async",t.src=i}else e(i),d&&(j.current=window.setTimeout(A,b.cm))}else M()},[y,e,t,I,M,o,L,u,a,k,h,E,l]);(0,i.useEffect)(()=>{c&&(j.current&&window.clearTimeout(j.current),E&&!p.TY.includes(E)?A().catch(M):M())},[A,M,c,E]),(0,i.useEffect)(()=>{let t=()=>{if(!e.current||!p.cO[E])return;let t=e.current.getBoundingClientRect();C.current?.postMessage(t);let r=e.current.querySelector(p.j2);r instanceof HTMLCanvasElement&&(r.style.width=`${t.width}px`,r.style.height=`${t.height}px`)};return window.addEventListener("resize",t,{passive:!0}),()=>window.removeEventListener("resize",t)},[e,E,C])};var y=r(40514);let E=({children:e})=>{let t=(0,i.useRef)(null);return k(t),(0,n.jsxs)(h,{ref:t,children:[(0,n.jsx)(y.A,{url:b.Bn,allowMovingDraggableEntries:!0,hideLoading:!0,hideScrolling:!0,isDesktop:!0,loadIconsImmediately:!0}),e]})};var S=r(4213),C=r(54239);new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric"}),new Intl.DateTimeFormat("en",{hour:"numeric",hour12:!0,minute:"2-digit",second:"2-digit"}),new Intl.DateTimeFormat("en",{weekday:"long"});let j=d.Ay.div.withConfig({componentId:"sc-b8fc51f3-0"})(["color:",";display:flex;font-size:",";height:100%;line-height:","px;max-width:",";min-width:",";padding:",";place-content:center;position:absolute;right:",";white-space:nowrap;&:hover{background-color:",";}&:active{background-color:",";}"],({theme:e})=>e.colors.text,({theme:e})=>e.sizes.clock.fontSize,b.D5-1,({theme:e,$width:t})=>`calc(${t}px + ${2*e.sizes.clock.padding}px)`,({theme:e,$width:t})=>`calc(${t}px + ${2*e.sizes.clock.padding}px)`,({theme:e})=>`0 ${e.sizes.clock.padding}px`,({theme:e,$hasAI:t})=>t?e.sizes.taskbar.ai.buttonWidth:0,({theme:e})=>e.colors.taskbar.hover,({theme:e})=>e.colors.taskbar.foreground);var $=r(64148);let L=e=>{let{contextMenu:t}=(0,$.b)(),{clockSource:r,setClockSource:n}=(0,w.w)();return(0,i.useMemo)(()=>t?.(()=>{e(!1);let t="local"===r;return[{action:()=>n("local"),label:"Local time",toggle:t},{action:()=>n("ntp"),label:"Server time",toggle:!t}]}),[r,t,n,e])};var M=r(39654);let I=7,A=()=>{I=7},P=async({target:e})=>{if(7===I&&e instanceof HTMLElement&&(e.removeEventListener("mouseleave",A),e.addEventListener("mouseleave",A,b.w3)),0==(I-=1)){let{spawnSheep:e}=await r.e(7970,"high").then(r.bind(r,57970));e(),I=7}},T=(0,i.memo)(({hasAI:e,setClockWidth:t,toggleCalendar:o,width:s})=>{let[a,l]=(0,i.useState)(Object.create(null)),{date:c,time:u}=a,{clockSource:h}=(0,w.w)(),f=(0,i.useCallback)(()=>new Worker(r.tu(new URL(r.p+r.u(2167),r.b)),{name:"Clock"}),[h]),p=(0,i.useRef)(void 0),m=(0,i.useMemo)(()=>"OffscreenCanvas"in window,[]),x=(0,i.useCallback)(({data:e,target:t})=>{"source"===e?t.postMessage(h):l(t=>p.current&&t.date===e.date?t:e)},[h]),k=L(o),y=(0,g.A)(f,x),E=(0,i.useRef)({height:b.D5,width:s}),{formats:{systemFont:$},sizes:{clock:{fontSize:I}}}=(0,d.DP)(),A=(0,i.useCallback)(()=>Math.min(Math.max(b.li,Math.ceil((0,C.kD)("44:44:44 AM",I,$))),1.5*b.li),[I,$]),T=(0,i.useCallback)(e=>{!p.current&&y.current&&e instanceof HTMLDivElement&&([...e.children].forEach(e=>e.remove()),E.current.width=A(),t(E.current.width),p.current=(0,v.aH)(e,window.devicePixelRatio,E.current),y.current.postMessage({canvas:p.current,devicePixelRatio:window.devicePixelRatio},[p.current]))},[y,a]),D=(0,i.useCallback)(e=>{P(e),o()},[o]),R=(0,M.q)(S._3);return((0,i.useEffect)(()=>{p.current=void 0},[h]),(0,i.useEffect)(()=>{if(m){let e=()=>window.matchMedia(`(resolution: ${window.devicePixelRatio}x)`).addEventListener("change",()=>{y.current?.postMessage({clockSize:E.current,devicePixelRatio:window.devicePixelRatio}),e()},b.w3);e()}else t(A())},[y,A,t,m]),u)?(0,n.jsx)(j,{ref:m?T:void 0,$hasAI:e,$width:s,"aria-label":"Clock",onClick:D,role:"timer",title:c,suppressHydrationWarning:!0,...k,...b.W8,...R,children:m?void 0:u}):null});var D=r(3861);let R=(0,d.Ay)(D.A).withConfig({componentId:"sc-e35c353f-0"})(["background-color:",";display:flex;fill:",";height:100%;left:",";place-content:center;place-items:center;position:absolute;&&{width:","px;}svg{height:",";}&:hover{background-color:",";svg{fill:",";}}&:active{background-color:hsl(0 0% 20% / 70%);svg{fill:",";}}"],({$active:e,$highlight:t,theme:r})=>e&&(t?r.colors.taskbar.foreground:"hsla(0, 0%, 25%, 50%)"),({theme:e})=>e.colors.taskbar.button.color,({$left:e})=>e?`${e}px`:0,({theme:e})=>e.sizes.taskbar.button.width,({theme:e})=>e.sizes.taskbar.button.iconSize,({$active:e,theme:t})=>e?t.colors.taskbar.foreground:t.colors.taskbar.hover,({$highlight:e,theme:t})=>e?t.colors.highlight:void 0,({$highlight:e})=>e?"hsla(207, 100%, 60%, 80%)":void 0),z=(0,d.Ay)(R).withConfig({componentId:"sc-8c9a0869-0"})(["svg{border:1px solid transparent;border-right:0;border-top:0;height:17px;margin-left:-1px;path{stroke:#fff;stroke-width:1;}}"]);var W=r(52921);let O=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"3 -1 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})})),N=({searchVisible:e,toggleSearch:t})=>{let{sizes:{taskbar:r}}=(0,d.DP)();return(0,n.jsx)(z,{$active:e,$left:r.button.width,onClick:()=>t(),...b.WW,...(0,v.Pf)(S.BN),...(0,W.A)(),...(0,M.q)(S.Gm),children:(0,n.jsx)(O,{})})},_=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 588.42 568.88",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m10.5 177.038 20.675 1.532c21.44-24.249 29.864-95.974 156.213-81.935-4.595 307.32-139.367 339.737-130.943 402.784 3.063 35.735 31.395 57.687 62.025 58.963 96.74-3.318 92.4-133.751 122.52-462.513h124.818c-6.637 115.883-24.76 231.767-26.802 345.353 1.532 75.554 47.477 115.884 107.971 116.394 99.548 3.318 130.943-112.82 130.943-162.339h-21.44c-2.043 40.84-21.697 70.194-63.558 71.98-114.097 1.532-51.305-200.626-50.54-369.857l135.538.766-.765-86.53C13.807 8.908 85.312-2.137 10.5 177.038z"})})),F=async()=>{let e=(0,S.JN)(),{default:t}=await r.e(3021,"high").then(r.t.bind(r,93021,19))||{};t?.forEach(e=>(0,v.NN)(e)),await e},H=({startMenuVisible:e,toggleStartMenu:t})=>{let o=(0,i.useCallback)(async({ctrlKey:e,shiftKey:n})=>{if(t(),e&&n){let{spawnSheep:e}=await r.e(7970,"high").then(r.bind(r,57970));e()}},[t]);return(0,n.jsx)(R,{$active:e,onClick:o,$highlight:!0,...b.WW,...(0,v.Pf)(S.r5),...(0,W.A)(!0),...(0,M.q)(F),children:(0,n.jsx)(_,{})})},Q=d.Ay.nav.withConfig({componentId:"sc-658790dd-0"})(["backdrop-filter:",";background-color:",";bottom:0;contain:size layout;height:","px;left:0;position:absolute;right:0;width:100vw;z-index:100000;"],({theme:e})=>`blur(${e.sizes.taskbar.blur})`,({theme:e})=>e.colors.taskbar.background,b.D5),q=d.Ay.ol.withConfig({componentId:"sc-d8dbb385-0"})(["column-gap:1px;display:flex;height:100%;left:","px;margin:0 3px;overflow:hidden;position:absolute;right:",";"],({theme:e})=>2*e.sizes.taskbar.button.width,({$clockWidth:e,$hasAI:t,theme:r})=>`calc(${e}px + ${2*r.sizes.clock.padding}px + ${t?r.sizes.taskbar.ai.buttonWidth:"0px"})`),B=a()(()=>r.e(4381,"high").then(r.bind(r,14381)),{loadableGenerated:{webpack:()=>[14381]}}),U=(0,i.memo)(({clockWidth:e,hasAI:t})=>{let{processes:r={}}=(0,l.N)();return(0,n.jsx)(q,{$clockWidth:e,$hasAI:t,children:(0,n.jsx)(o.N,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(r).filter(([,{closing:e,hideTaskbarEntry:t}])=>!e&&!t).map(([e,{icon:t,title:r}])=>(0,n.jsx)(B,{icon:t,id:e,title:r},e))})})});var G=r(72328);let V=a()(S.Me),J=a()(S.Ki),X=a()(S._3),Y=a()(S.Gm),K=a()(S.JN),Z=(0,i.memo)(()=>{let[e,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(b.li),{aiEnabled:f}=(0,w.w)(),p=(0,G.i)(),m=(0,i.useCallback)(e=>t(t=>e??!t),[]),g=(0,i.useCallback)(e=>s(t=>e??!t),[]),v=(0,i.useCallback)(e=>l(t=>e??!t),[]),x=(0,i.useCallback)(e=>u(t=>e??!t),[]),k=p||f;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.N,{initial:!1,presenceAffectsLayout:!1,children:[e&&(0,n.jsx)(K,{toggleStartMenu:m},"startMenu"),r&&(0,n.jsx)(Y,{toggleSearch:g},"search")]}),(0,n.jsxs)(Q,{...(0,W.A)(),...b.W8,children:[(0,n.jsx)(H,{startMenuVisible:e,toggleStartMenu:m}),(0,n.jsx)(N,{searchVisible:r,toggleSearch:g}),(0,n.jsx)(U,{clockWidth:d,hasAI:k}),(0,n.jsx)(T,{hasAI:k,setClockWidth:h,toggleCalendar:v,width:d}),k&&(0,n.jsx)(V,{aiVisible:c,toggleAI:x})]}),(0,n.jsxs)(o.N,{initial:!1,presenceAffectsLayout:!1,children:[a&&(0,n.jsx)(X,{toggleCalendar:v},"calendar"),c&&(0,n.jsx)(J,{toggleAI:x},"aiChat")]})]})}),ee=e=>{e.error?.stack?.includes("eval at <anonymous>")&&(0,v.CH)(e)},et=()=>{(0,i.useEffect)(()=>(window.addEventListener("error",ee),()=>window.removeEventListener("error",ee)),[])};var er=r(52179),en=r(29804);let ei=()=>{let{setForegroundId:e}=(0,w.w)(),t=(0,en.w)();(0,i.useEffect)(()=>{let r=()=>{if(document.activeElement instanceof HTMLIFrameElement){let[r]=Object.entries(t.current).find(([,{componentWindow:e}])=>e?.contains(document.activeElement))||[];r&&(e(r),window.addEventListener("click",({target:r})=>{let[n=""]=Object.entries(t.current).find(([,{componentWindow:e}])=>r instanceof HTMLElement&&e?.contains(r))||[];e(n)},b.w3))}};return window.addEventListener("blur",r,{passive:!0}),()=>window.removeEventListener("blur",r)},[t,e])};var eo=r(91372);let es=e=>e.startsWith("http://")||e.startsWith("https://")||e.startsWith("chrome://"),ea=()=>{let{exists:e,fs:t,stat:r}=(0,m.f)(),{open:n}=(0,l.N)(),o=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(o.current||!t||!e||!n)return;o.current=!0;let i=(0,v.ov)("app"),s=(0,v.ov)("url"),a=async t=>{if(!t)return;let r=!1;try{r="Browser"===t&&es(s)||await e(s)}catch{}("FileExplorer"!==t||!s||r)&&n(t,r?{url:s}:void 0)};if(i)a(Object.fromEntries(Object.entries(eo.A).filter(([,{dialogProcess:e}])=>!e).map(([e])=>[e.toLowerCase(),e]))[i.toLowerCase()]);else if(s)if(es(s))a("Browser");else try{r(s).then(e=>a(e.isDirectory()?"FileExplorer":(0,C.YD)((0,v.uQ)(s))))}catch{}},[e,t,n,r])},el=(0,i.memo)(()=>(ei(),ea(),(0,er.A)(),et(),(0,n.jsxs)(E,{children:[(0,n.jsx)(Z,{}),(0,n.jsx)(u,{})]})))},52921:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(14232),i=r(64148),o=r(81855),s=r(55295),a=r(27639),l=r(29804),c=r(16361),u=r(60109),d=r(91754),h=r(72328);let f=(e=!1)=>{let{contextMenu:t}=(0,i.b)(),{minimize:r,open:f}=(0,o.N)(),{aiEnabled:p,setAiEnabled:m,stackOrder:w}=(0,s.w)(),g=(0,l.w)(),{fullscreenElement:b,toggleFullscreen:v}=(0,a.T)(),x=(0,d._)(),k=(0,h.i)();return(0,n.useMemo)(()=>t?.(()=>{let t=Object.entries(g.current),n=t.length>0&&!t.some(([,{minimized:e}])=>!e),i=[{action:()=>(0,u.UH)(g.current,w,r),label:e?"Desktop":n?"Show open windows":"Show the desktop"}];return e?i.unshift({action:()=>f("Terminal"),label:"Terminal"},c.kG,{action:()=>f("FileExplorer"),label:"File Explorer"},{action:()=>f("Run"),label:"Run"},c.kG):i.unshift({action:()=>v(),label:b===document.documentElement?"Exit full screen":"Enter full screen"},c.kG,...x&&!k?[{action:()=>m(!p),checked:p,label:`Show ${c.K1} button`},c.kG]:[]),i}),[p,t,b,x,k,r,e,f,g,m,w,v])}},55944:(e,t,r)=>{"use strict";r.d(t,{N:()=>w});var n=r(37876),i=r(14232),o=r(45855),s=r(16027),a=r(66724),l=r(91235),c=r(21374);class u extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=e instanceof HTMLElement&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t,anchorX:r}){let o=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,i.useContext)(c.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:n,top:i,left:c,right:u}=a.current;if(t||!s.current||!e||!n)return;let d="left"===r?`left: ${c}`:`right: ${u}`;s.current.dataset.motionPopId=o;let h=document.createElement("style");return l&&(h.nonce=l),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            ${d}px !important;
            top: ${i}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),(0,n.jsx)(u,{isPresent:t,childRef:s,sizeRef:a,children:i.cloneElement(e,{ref:s})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:c,mode:u,anchorX:h})=>{let p=(0,s.M)(f),m=(0,i.useId)(),w=(0,i.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},[p,o]),g=(0,i.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:a,onExitComplete:w,register:e=>(p.set(e,!1),()=>p.delete(e))}),c?[Math.random(),w]:[r,w]);return(0,i.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),i.useEffect(()=>{r||p.size||!o||o()},[r]),"popLayout"===u&&(e=(0,n.jsx)(d,{isPresent:r,anchorX:h,children:e})),(0,n.jsx)(l.t.Provider,{value:g,children:e})};function f(){return new Map}let p=e=>e.key||"";function m(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:t,initial:r=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:f=!1,anchorX:w="left"})=>{let[g,b]=function(e=!0){let t=(0,i.useContext)(l.t);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:n,register:o}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return o(s)},[e]);let a=(0,i.useCallback)(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}(f),v=(0,i.useMemo)(()=>m(e),[e]),x=f&&!g?[]:v.map(p),k=(0,i.useRef)(!0),y=(0,i.useRef)(v),E=(0,s.M)(()=>new Map),[S,C]=(0,i.useState)(v),[j,$]=(0,i.useState)(v);(0,a.E)(()=>{k.current=!1,y.current=v;for(let e=0;e<j.length;e++){let t=p(j[e]);x.includes(t)?E.delete(t):!0!==E.get(t)&&E.set(t,!1)}},[j,x.length,x.join("-")]);let L=[];if(v!==S){let e=[...v];for(let t=0;t<j.length;t++){let r=j[t],n=p(r);x.includes(n)||(e.splice(t,0,r),L.push(r))}return"wait"===d&&L.length&&(e=L),$(m(e)),C(v),null}let{forceRender:M}=(0,i.useContext)(o.L);return(0,n.jsx)(n.Fragment,{children:j.map(e=>{let i=p(e),o=(!f||!!g)&&(v===j||x.includes(i));return(0,n.jsx)(h,{isPresent:o,initial:(!k.current||!!r)&&void 0,custom:t,presenceAffectsLayout:u,mode:d,onExitComplete:o?void 0:()=>{if(!E.has(i))return;E.set(i,!0);let e=!0;E.forEach(t=>{t||(e=!1)}),e&&(M?.(),$(y.current),f&&b?.(),c&&c())},anchorX:w,children:e},i)})})}},96856:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(14232);let i=(e,t)=>{let r=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>(e&&!r.current&&(r.current=e(),t&&r.current.addEventListener("message",t,{passive:!0}),r.current.postMessage("init")),()=>{r.current?.terminate(),r.current=void 0}),[t,e]),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[514,636,6593,8792],()=>t(16760)),_N_E=e.O()}]);